{"version":3,"sources":["webpack:///./src/components/chats/assets/typing.vue?26bd","webpack:///./src/components/chats/assets/typing.vue","webpack:///src/components/chats/assets/typing.vue","webpack:///./src/components/chats/assets/typing.vue?646f","webpack:///./src/components/chats/assets/typing.vue?e86c","webpack:///./src/components/chat/list/index.sass?a1aa","webpack:///./src/components/events/list/index.sass","webpack:///./src/components/chats/assets/typing.vue?b017","webpack:///./src/components/chat/list/index.vue","webpack:///./src/components/events/list/index.vue","webpack:///./src/components/events/list/index.js","webpack:///./src/components/events/list","webpack:///./src/components/events/list/index.vue?459a","webpack:///./src/components/chat/list/index.js","webpack:///./src/components/chat/list","webpack:///./src/components/chat/list/index.vue?2203","webpack:///./src/components/chat/list/index.sass","webpack:///./src/components/chats/assets/typing.vue?c037","webpack:///./src/components/chat/list/index.sass?2bc4","webpack:///./src/components/events/list/index.sass?3dd8","webpack:///./src/components/events/list/index.sass?c7eb"],"names":["render","_vm","_c","_self","staticClass","staticStyle","_v","_s","$t","attrs","color","size","staticRenderFns","name","props","components","PulseLoader","data","loading","methods","computed","_setup","_setupProxy","class","bin","pocketnet","bout","minimized","fix","active","ref","timeline","error","events","chat","lloading","scrollType","selectedMessages","on","updatedSize","scrollE","removeEvent","editingEvent","replyEvent","e","imageGallery","menuIsVisibleHandler","scrollToEvent","_e","mobile","ios","menuOpen","imagesList","mousewheel","dscroll","stringifyiedError","showerror","_l","event","i","key","event_id","refInFor","multiSelect","isRemoveSelectedMessages","showMultiSelect","selectMessage","removeMessage","galleryOpen","text","emounted","messagesIsDeleted","toreference","directives","rawName","value","scrollbottomshow","expression","scrolldown","Object","Array","Boolean","Error","String","inject","type","tmt","lscroll","c","ls","voiceMessageQueue","countshow","provide","addToQueue","message","id","f","_","find","v","playNext","current","sortedVoiceMessageQueue","findIndex","next","setTime","play","watch","immediate","handler","length","notificationCount","scrollTop","getUnreadNotificationCount","scrollToNew","sortBy","a","isios","mapState","auth","state","allnotifications","eventsByPages","ps","pc","each","push","stringify","destroyed","core","menu","updated","scrollToReadMessages","shareEvent","$emit","$dialog","alert","okText","backdropClose","catch","dupdated","debounce","scroll","ddscroll","$nextTick","scrollCorrection","s","scrollHeight","clientHeight","$refs","showPhotoSwipe","index","isOpen","$set","options","hidePhotoSwipe","r_element","offsetTop","classList","add","setTimeout","remove","isVisible","preventDefault","deltaY","filter","item","message_id","splice","reference","filterType","default","encryptedEvents","scrolling","scrollingTo","cancelNextScroll","lastEvent","esize","p_b","p_f","updateTimeout","updateInterval","firstPaginate","readPromise","mounted","init","settings_read","dontreadreceipts","eventsTypes","types","toArray","currentState","members","created","setInterval","update","unpaginate","_eventCount","clearInterval","getLiveTimeline","wh","getEvents","lastCallAccess","pop","localRedactionEvent","getRedactionEvent","content","accepted","undefined","mtrx","me","sender","keys","users","getMembers","reverse","relations","replacingEventDate","getDate","Infinity","uniq","clearEventId","makeid","getEventsAndEncrypt","Promise","all","map","pcrypto","resolve","decrypted","pr","subtype","deep","einfo","getAudio","console","msgtype","decryptEvent","then","d","getAudioUnencrypt","ts","_timelineSet","rt","getRelationsForEvent","last","getLastReplacement","body","edited","block","mediaTimelineSet","sdk","Filter","client","getUserId","setDefinition","room","contains_url","filterId","getOrCreateFilter","credentials","userId","getOrCreateFilteredTimelineSet","log","getTimelineSet","TimelineWindow","load","r","autoPaginateAll","paginateToEvent","promise","paginate","autoPaginate","direction","needLoad","rnd","canPaginate","count","reject","readAll","Math","max","safespace","readEvent","byme","sendReadReceipt","readFirst","readLast","readEvents","readOne","debouncedReadAll","readError","eid","setRoomReadMarkers","roomId","hidden","readed","finally","document","hasFocus","hiddenInParent","getJoinedMemberCount","eventslist","$store","globalpreloader"],"mappings":";;;;;AAAA;;AAEA;AACA,cAAc,mBAAO,CAAC,MAA8hB;AACpjB;AACA,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,MAAmE;AACrF;AACA;AACA,E;;;;;;;;;;ACXA,IAAIA,MAAM,GAAG,SAASA,MAAM,GAAE;EAAC,IAAIC,GAAG,GAAC,IAAI;IAACC,EAAE,GAACD,GAAG,CAACE,KAAK,CAACD,EAAE;EAAC,OAAOA,EAAE,CAAC,KAAK,EAAC;IAACE,WAAW,EAAC,aAAa;IAACC,WAAW,EAAC;MAAC,UAAU,EAAC;IAAU;EAAC,CAAC,EAAC,CAACH,EAAE,CAAC,KAAK,EAAC;IAACE,WAAW,EAAC;EAAoB,CAAC,EAAC,CAACF,EAAE,CAAC,KAAK,EAAC,CAACA,EAAE,CAAC,MAAM,EAAC,CAACD,GAAG,CAACK,EAAE,CAACL,GAAG,CAACM,EAAE,CAACN,GAAG,CAACO,EAAE,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAACN,EAAE,CAAC,KAAK,EAAC,CAACA,EAAE,CAAC,aAAa,EAAC;IAACO,KAAK,EAAC;MAAC,OAAO,EAACR,GAAG,CAACS,KAAK;MAAC,MAAM,EAACT,GAAG,CAACU,IAAI;MAAC,SAAS,EAAC;IAAI;EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1V,CAAC;AACD,IAAIC,eAAe,GAAG,EAAE;;;;;;;;ACWkC;AAE3C;EACfC;EAEAC;EACAC;IACAC;EACA;EACAC;IACA;MACAP;MACAC;MACAO;IACA;EACA;EACAC;EACAC;AACA,CAAC,E;;AC/B6V,CAAgB,wGAAG,EAAC,C;;;;;ACA7R;AAC3B;AACL;AACrD;;AAEA,eAAe,mBAAO,CAAC,MAAiE;AACxF;;AAEA;;AAEA;AACgG;AAChG,gBAAgB,8CAAU;AAC1B,EAAE,qCAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEe,uF;;;;;;;ACvBf;;AAEA;AACA,cAAc,mBAAO,CAAC,MAAya;AAC/b;AACA,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,MAAmE;AACrF;AACA;AACA,E;;;;;;;ACXA;AACA,kCAAkC,mBAAO,CAAC,MAAyD;AACnG;AACA;AACA,cAAc,QAAS,yCAAyC,gBAAgB,+BAA+B,0BAA0B,6FAA6F,sCAAsC,wEAAwE,kBAAkB,6DAA6D,UAAU,yBAAyB,OAAO,QAAQ,MAAM,SAAS,oBAAoB,kBAAkB,eAAe,gCAAgC,oBAAoB,oEAAoE,8CAA8C,WAAW,8BAA8B,YAAY,UAAU,OAAO,QAAQ,MAAM,SAAS,yCAAyC,oCAAoC,YAAY,kBAAkB,WAAW,6BAA6B,+BAA+B,kBAAkB,WAAW,WAAW,eAAe,kBAAkB,uCAAuC,4DAA4D,sCAAsC,WAAW,YAAY,iBAAiB,kBAAkB,UAAU,iCAAiC,eAAe,6BAA6B,aAAa,iBAAiB,mBAAmB,kBAAkB,gBAAgB,cAAc,iCAAiC,4BAA4B,iBAAiB,WAAW,YAAY,qBAAqB,mBAAmB,2BAA2B,qBAAqB,eAAe,oCAAoC,kBAAkB,kCAAkC,kBAAkB,2EAA2E,WAAW,aAAa,iBAAiB,iBAAiB,2BAA2B,2CAA2C,aAAa,mDAAmD,iBAAiB,kDAAkD,YAAY,kBAAkB,sCAAsC,sFAAsF,WAAW,qBAAqB,oCAAoC,uBAAuB,sDAAsD,UAAU,mHAAmH,kBAAkB,iDAAiD,iBAAiB,6BAA6B,aAAa,qBAAqB,yCAAyC,cAAc,cAAc,kBAAkB,8CAA8C,cAAc,mBAAmB,kBAAkB,eAAe,qDAAqD,aAAa,mBAAmB,uBAAuB,mBAAmB,kBAAkB,gBAAgB,aAAa,iEAAiE,mBAAmB,kBAAkB,eAAe,YAAY,WAAW,iEAAiE,kBAAkB,aAAa,SAAS,QAAQ,QAAQ,SAAS,4BAA4B,aAAa,mBAAmB,uBAAuB,qDAAqD,eAAe,oBAAoB,iBAAiB,kBAAkB,cAAc,mDAAmD,gBAAgB,+EAA+E,gBAAgB,eAAe,qFAAqF,cAAc,eAAe,oFAAoF,cAAc,gBAAgB,oBAAoB,iBAAiB,wFAAwF,cAAc,WAAW,YAAY;AACv+H;AACA;;;;;;;;ACNA;AACA,kCAAkC,mBAAO,CAAC,MAAyD;AACnG;AACA;AACA,cAAc,QAAS,gBAAgB,kBAAkB,iCAAiC,kBAAkB,SAAS,2BAA2B,SAAS,aAAa,mBAAmB,qCAAqC,eAAe,sCAAsC,eAAe,iCAAiC,WAAW;AAC9U;AACA;;;;;;;;;;;ACNA,IAAIpB,MAAM,GAAG,SAASA,MAAM,GAAE;EAAC,IAAIC,GAAG,GAAC,IAAI;IAACC,EAAE,GAACD,GAAG,CAACE,KAAK,CAACD,EAAE;IAACmB,MAAM,GAACpB,GAAG,CAACE,KAAK,CAACmB,WAAW;EAAC,OAAOpB,EAAE,CAAC,KAAK,EAAC;IAACqB,KAAK,EAAC;MAC9GC,GAAG,EAAEvB,GAAG,CAACwB,SAAS;MAClBC,IAAI,EAAE,CAACzB,GAAG,CAACwB,SAAS;MACpBE,SAAS,EAAE1B,GAAG,CAAC0B,SAAS;MACxBC,GAAG,EAAE3B,GAAG,CAACwB,SAAS;MAClBI,MAAM,EAAE5B,GAAG,CAAC4B;IACb,CAAC;IAACpB,KAAK,EAAC;MAAC,IAAI,EAAC;IAAU;EAAC,CAAC,EAAC,CAACP,EAAE,CAAC,KAAK,EAAC;IAAC4B,GAAG,EAAC,MAAM;IAAC1B,WAAW,EAAC;EAAM,CAAC,EAAC,CAACF,EAAE,CAAC,KAAK,EAAC;IAAC4B,GAAG,EAAC,QAAQ;IAAC1B,WAAW,EAAC;EAAiB,CAAC,EAAC,CAAEH,GAAG,CAAC8B,QAAQ,GAAE7B,EAAE,CAAC,QAAQ,EAAC;IAAC4B,GAAG,EAAC,YAAY;IAACrB,KAAK,EAAC;MAAC,OAAO,EAACR,GAAG,CAAC+B,KAAK;MAAC,UAAU,EAAC/B,GAAG,CAAC8B,QAAQ;MAAC,QAAQ,EAAC9B,GAAG,CAACgC,MAAM;MAAC,MAAM,EAAChC,GAAG,CAACiC,IAAI;MAAC,SAAS,EAACjC,GAAG,CAACkC,QAAQ;MAAC,YAAY,EAAClC,GAAG,CAACmC,UAAU;MAAC,kBAAkB,EAACnC,GAAG,CAACoC;IAAgB,CAAC;IAACC,EAAE,EAAC;MAAC,SAAS,EAACrC,GAAG,CAACsC,WAAW;MAAC,QAAQ,EAACtC,GAAG,CAACuC,OAAO;MAAC,aAAa,EAACvC,GAAG,CAACwC,WAAW;MAAC,cAAc,EAACxC,GAAG,CAACyC,YAAY;MAAC,YAAY,EAACzC,GAAG,CAAC0C,UAAU;MAAC,kBAAkB,EAAEC,CAAC,IAAK3C,GAAG,CAAC4C,YAAY,CAACD,CAAC,CAAC;MAAC,eAAe,EAAC3C,GAAG,CAAC6C,oBAAoB;MAAC,aAAa,EAAC7C,GAAG,CAAC8C;IAAa;EAAC,CAAC,CAAC,GAAC9C,GAAG,CAAC+C,EAAE,EAAE,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnnB,CAAC;AACD,IAAIpC,eAAe,GAAG,EAAE;;;;;;;;;;;;;;ACRxB,IAAIZ,oDAAM,GAAG,SAASA,MAAM,GAAE;EAAC,IAAIC,GAAG,GAAC,IAAI;IAACC,EAAE,GAACD,GAAG,CAACE,KAAK,CAACD,EAAE;IAACmB,MAAM,GAACpB,GAAG,CAACE,KAAK,CAACmB,WAAW;EAAC,OAAOpB,EAAE,CAAC,KAAK,EAAC;IAACE,WAAW,EAAC,WAAW;IAACmB,KAAK,EAAC;MACtI0B,MAAM,EAAEhD,GAAG,CAACgD,MAAM;MAClBC,GAAG,EAAEjD,GAAG,CAACiD,GAAG;MACZC,QAAQ,EAAElD,GAAG,CAACkD,QAAQ;MACtBC,UAAU,EAAE,IAAI,CAAChB,UAAU,KAAK,QAAQ,GAAG,YAAY,GAAG;IAC3D,CAAC;IAAC3B,KAAK,EAAC;MAAC,IAAI,EAAC;IAAQ;EAAC,CAAC,EAAC,CAACP,EAAE,CAAC,KAAK,EAAC;IAAC4B,GAAG,EAAC,WAAW;IAAC1B,WAAW,EAAC,YAAY;IAACmB,KAAK,EAAC;MAAE0B,MAAM,EAAEhD,GAAG,CAACgD,MAAM;MAAEC,GAAG,EAAEjD,GAAG,CAACiD,GAAG;MAAEC,QAAQ,EAAElD,GAAG,CAACkD;IAAS,CAAC;IAACb,EAAE,EAAC;MAAC,OAAO,EAACrC,GAAG,CAACoD,UAAU;MAAC,QAAQ,EAACpD,GAAG,CAACqD;IAAO;EAAC,CAAC,EAAC,CAACpD,EAAE,CAAC,KAAK,EAAC;IAACE,WAAW,EAAC;EAAK,CAAC,EAAC,CAAEH,GAAG,CAACsD,iBAAiB,GAAErD,EAAE,CAAC,KAAK,EAAC;IAACE,WAAW,EAAC;EAAc,CAAC,EAAC,CAACF,EAAE,CAAC,KAAK,EAAC;IAACE,WAAW,EAAC;EAAO,CAAC,EAAC,CAACF,EAAE,CAAC,KAAK,EAAC,CAACD,GAAG,CAACK,EAAE,CAACL,GAAG,CAACM,EAAE,CAACN,GAAG,CAACO,EAAE,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,EAACN,EAAE,CAAC,KAAK,EAAC;IAACE,WAAW,EAAC;EAAQ,CAAC,EAAC,CAACF,EAAE,CAAC,QAAQ,EAAC;IAACE,WAAW,EAAC,cAAc;IAACkC,EAAE,EAAC;MAAC,OAAO,EAACrC,GAAG,CAACuD;IAAS;EAAC,CAAC,EAAC,CAACvD,GAAG,CAACK,EAAE,CAAC,GAAG,GAACL,GAAG,CAACM,EAAE,CAACN,GAAG,CAACO,EAAE,CAAC,SAAS,CAAC,CAAC,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAACP,GAAG,CAAC+C,EAAE,EAAE,EAAC/C,GAAG,CAACwD,EAAE,CAAExD,GAAG,CAACgC,MAAM,EAAE,UAASyB,KAAK,EAACC,CAAC,EAAC;IAAC,OAAOzD,EAAE,CAAC,KAAK,EAAC;MAAC0D,GAAG,EAACF,KAAK,CAACA,KAAK,CAACG,QAAQ;MAAC/B,GAAG,EAAC4B,KAAK,CAACA,KAAK,CAACG,QAAQ;MAACC,QAAQ,EAAC,IAAI;MAAC1D,WAAW,EAAC,cAAc;MAACK,KAAK,EAAC;QAAC,OAAO,EAACiD,KAAK,CAACA,KAAK,CAACG;MAAQ;IAAC,CAAC,EAAC,CAAC3D,EAAE,CAAC,aAAa,EAAC;MAACO,KAAK,EAAC;QAAC,OAAO,EAACiD,KAAK;QAAC,WAAW,EAACzD,GAAG,CAACgC,MAAM,CAAC0B,CAAC,GAAG,CAAC,CAAC;QAAC,aAAa,EAAC1D,GAAG,CAACgC,MAAM;QAAC,MAAM,EAAChC,GAAG,CAACiC,IAAI;QAAC,UAAU,EAACjC,GAAG,CAAC8B,QAAQ;QAAC,MAAM,EAAC4B,CAAC,IAAI,CAAC;QAAC,aAAa,EAAC1D,GAAG,CAAC8D,WAAW;QAAC,kBAAkB,EAAC9D,GAAG,CAACoC,gBAAgB;QAAC,0BAA0B,EAACpC,GAAG,CAAC+D;MAAwB,CAAC;MAAC1B,EAAE,EAAC;QAAC,iBAAiB,EAACrC,GAAG,CAACgE,eAAe;QAAC,eAAe,EAAChE,GAAG,CAACiE,aAAa;QAAC,eAAe,EAACjE,GAAG,CAACkE,aAAa;QAAC,gBAAgB,EAAEvB,CAAC,IAAK3C,GAAG,CAACmE,WAAW,CAACxB,CAAC,CAAC;QAAC,aAAa,EAAEA,CAAC,IAAK3C,GAAG,CAACwC,WAAW,CAACiB,KAAK,CAAC;QAAC,SAAS,EAAEW,IAAI,IAAKpE,GAAG,CAACyC,YAAY,CAAC;UAAEgB,KAAK;UAAEW;QAAK,CAAC,CAAC;QAAC,OAAO,EAAEzB,CAAC,IAAK3C,GAAG,CAAC0C,UAAU,CAAC;UAAEe;QAAM,CAAC,CAAC;QAAC,SAAS,EAACzD,GAAG,CAACqE,QAAQ;QAAC,eAAe,EAACrE,GAAG,CAAC6C,oBAAoB;QAAC,mBAAmB,EAAC7C,GAAG,CAACsE,iBAAiB;QAAC,aAAa,EAACtE,GAAG,CAACuE;MAAW;IAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC;EAAA,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,EAAEvE,GAAG,CAACiB,OAAO,GAAEhB,EAAE,CAAC,KAAK,EAAC;IAACE,WAAW,EAAC;EAAmB,CAAC,EAAC,CAACF,EAAE,CAAC,eAAe,CAAC,CAAC,EAAC,CAAC,CAAC,GAACD,GAAG,CAAC+C,EAAE,EAAE,CAAC,CAAC,EAAC9C,EAAE,CAAC,YAAY,EAAC;IAACO,KAAK,EAAC;MAAC,MAAM,EAAC;IAAM;EAAC,CAAC,EAAC,CAACP,EAAE,CAAC,KAAK,EAAC;IAACuE,UAAU,EAAC,CAAC;MAAC5D,IAAI,EAAC,MAAM;MAAC6D,OAAO,EAAC,QAAQ;MAACC,KAAK,EAAE1E,GAAG,CAAC2E,gBAAiB;MAACC,UAAU,EAAC;IAAkB,CAAC,CAAC;IAACzE,WAAW,EAAC,cAAc;IAACkC,EAAE,EAAC;MAAC,OAAO,EAACrC,GAAG,CAAC6E;IAAU;EAAC,CAAC,EAAC,CAAC5E,EAAE,CAAC,GAAG,EAAC;IAACE,WAAW,EAAC;EAAqB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC;AAC7vD,CAAC;AACD,IAAIQ,6DAAe,GAAG,EAAE;;;;;;;;;;;;;ACPQ;AACQ;AAEzB;EACdC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE;IACNiB,QAAQ,EAAEgD,MAAM;IAChB9C,MAAM,EAAE+C,KAAK;IACb9C,IAAI,EAAE6C,MAAM;IACZ7D,OAAO,EAAE+D,OAAO;IAChB7C,UAAU,EAAE,EAAE;IACdJ,KAAK,EAAE,CAAC+C,MAAM,EAAEG,KAAK,EAAEC,MAAM,CAAC;IAC9B9C,gBAAgB,EAAE,EAAE;IACpB2B,wBAAwB,EAAE;EAC3B,CAAC;EACDoB,MAAM,EAAE,CAAC,SAAS,CAAC;EACnBrE,UAAU,EAAE,CAAC,CAAC;EACdE,IAAI,EAAE,YAAY;IACjB,OAAO;MACNoE,IAAI,EAAE,EAAE;MACRC,GAAG,EAAE,IAAI;MACTC,OAAO,EAAE,IAAI;MACbpC,QAAQ,EAAE,KAAK;MACfqC,CAAC,EAAE,CAAC;MACJC,EAAE,EAAE,CAAC;MACLC,iBAAiB,EAAE,EAAE;MACrBC,SAAS,EAAE,CAAC;MACZ5B,WAAW,EAAE;IACd,CAAC;EACF,CAAC;EACD6B,OAAO,GAAG;IACT,OAAO;MACNC,UAAU,EAAE,CAACC,OAAO,EAAEC,EAAE,KAAK;QAC5B,IAAIC,CAAC,GAAGC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACR,iBAAiB,EAAGS,CAAC,IAAK;UAC7C,OAAOA,CAAC,CAACJ,EAAE,IAAIA,EAAE;QAClB,CAAC,CAAC;QAEF,IAAI,CAACC,CAAC,EACL,IAAI,CAACN,iBAAiB,GAAG,CAAC,GAAG,IAAI,CAACA,iBAAiB,EAAE;UAAEI,OAAO;UAAEC;QAAG,CAAC,CAAC;MACvE,CAAC;MACDK,QAAQ,EAAGL,EAAE,IAAK;QACjB,IAAIM,OAAO,GAAG,IAAI,CAACC,uBAAuB,CAACC,SAAS,CAAE5C,CAAC,IAAK;UAC3D,OAAOA,CAAC,CAACoC,EAAE,KAAKA,EAAE;QACnB,CAAC,CAAC;QACF,IAAIS,IAAI,GACPH,OAAO,KAAK,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAACC,uBAAuB,CAACD,OAAO,GAAG,CAAC,CAAC;QAClE,IAAIG,IAAI,EAAE;UACTA,IAAI,CAACV,OAAO,CAACW,OAAO,CAAC,CAAC,CAAC;UACvBD,IAAI,CAACV,OAAO,CAACY,IAAI,EAAE;QACpB;MACD;IACD,CAAC;EACF,CAAC;EAEDC,KAAK,EAAE;IACN1E,MAAM,EAAE,YAAY,CAAE,CAAC;IAEvBI,gBAAgB,EAAE;MACjBuE,SAAS,EAAE,IAAI;MACfC,OAAO,EAAE,YAAY;QACpB,IAAI,IAAI,CAACxE,gBAAgB,CAACyE,MAAM,KAAK,CAAC,EAAE;UACvC,IAAI,CAAC/C,WAAW,GAAG,KAAK;QACzB;MACD;IACD,CAAC;IAEDgD,iBAAiB,EAAE,YAAY;MAC9B,IACC,IAAI,CAACxB,OAAO,IACZ,IAAI,CAACA,OAAO,CAACyB,SAAS,GAAG,GAAG,IAC5B,IAAI,CAAC9E,IAAI,IACT,IAAI,CAACA,IAAI,CAAC+E,0BAA0B,EAAE,EACrC;QACD,IAAI,CAACC,WAAW,EAAE;MACnB;IACD;EACD,CAAC;EACD9F,QAAQ,EAAE;IACTkF,uBAAuB,GAAG;MACzB,OAAOL,CAAC,CAACkB,MAAM,CAAC,IAAI,CAACzB,iBAAiB,EAAG0B,CAAC,IAAK;QAC9C,OAAOA,CAAC,CAACrB,EAAE;MACZ,CAAC,CAAC;IACH,CAAC;IAED7C,GAAG,GAAG;MACL,OAAO8C,4BAAC,CAACqB,KAAK,EAAE;IACjB,CAAC;IAED,GAAGC,oCAAQ,CAAC;MACXC,IAAI,EAAGC,KAAK,IAAKA,KAAK,CAACD,IAAI;MAC3BtE,MAAM,EAAGuE,KAAK,IAAKA,KAAK,CAACvE,MAAM;MAC/B2B,gBAAgB,EAAE,YAAY;QAC7B,OAAO,IAAI,CAACW,OAAO,IAAI,IAAI,CAACA,OAAO,CAACyB,SAAS,GAAG,GAAG;MACpD,CAAC;MACDrF,SAAS,EAAG6F,KAAK,IAAKA,KAAK,CAAC7F,SAAS;MACrCoF,iBAAiB,EAAGS,KAAK,IAAKA,KAAK,CAACC;IACrC,CAAC,CAAC;IAEFC,aAAa,EAAE,YAAY;MAC1B,IAAIC,EAAE,GAAG,EAAE;MACX,IAAIC,EAAE,GAAG,CAAC;MAEV3B,CAAC,CAAC4B,IAAI,CAAC,IAAI,CAAC5F,MAAM,EAAE,UAAUW,CAAC,EAAE;QAChC,IAAI,CAACgF,EAAE,EAAED,EAAE,CAACG,IAAI,CAAC,EAAE,CAAC;QAEpBH,EAAE,CAACA,EAAE,CAACb,MAAM,GAAG,CAAC,CAAC,CAACgB,IAAI,CAAClF,CAAC,CAAC;QAEzBgF,EAAE,EAAE;QAEJ,IAAIA,EAAE,GAAG,EAAE,EAAEA,EAAE,GAAG,CAAC;MACpB,CAAC,CAAC;MAEF,OAAOD,EAAE;IACV,CAAC;IAEDpE,iBAAiB,EAAE,YAAY;MAC9B,OAAOyC,4BAAC,CAAC+B,SAAS,CAAC,IAAI,CAAC/F,KAAK,CAAC;IAC/B;EACD,CAAC;EACDgG,SAAS,EAAE,YAAY;IACtB,IAAI,CAACC,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC;EACrB,CAAC;EACDC,OAAO,EAAE,YAAY;IACpB;AACF;AACA;AACA;EAHE,CAIA;EACDhH,OAAO,EAAE;IACRiH,oBAAoB,EAAE,YAAY;MACjC;AACH;AACA;AACA;AACA;IAJG,CAMA;IACDC,UAAU,EAAE,gBAAqB;MAAA,IAAX;QAAE3E;MAAM,CAAC;MAC9B,IAAI,CAAC4E,KAAK,CAAC,YAAY,EAAE;QAAE5E;MAAM,CAAC,CAAC;IACpC,CAAC;IACDF,SAAS,EAAE,YAAY;MACtB;;MAEA,OAAO,IAAI,CAAC+E,OAAO,CACjBC,KAAK,CAAC,IAAI,CAACjF,iBAAiB,EAAE;QAC9BkF,MAAM,EAAE,IAAI;QACZC,aAAa,EAAE;MAChB,CAAC,CAAC,CACDC,KAAK,CAAE/F,CAAC,IAAK,CAAE,CAAC,CAAC;IACpB,CAAC;IAEDgG,QAAQ,EAAE3C,CAAC,CAAC4C,QAAQ,CAAC,YAAY;MAChC,IAAI,CAACP,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC3H,IAAI,EAAE,CAAC;IACnC,CAAC,EAAE,EAAE,CAAC;IAEN2C,OAAO,EAAE2C,CAAC,CAAC4C,QAAQ,CAAC,YAAY;MAC/B,OAAO,IAAI,CAACC,MAAM,EAAE;IACrB,CAAC,EAAE,EAAE,CAAC;IAENC,QAAQ,EAAE,UAAUnG,CAAC,EAAE;MACtB;AACH;AACA;AACA;AACA;AACA;;MAGG,IAAI,CAACU,OAAO,EAAE;IACf,CAAC;IAEDgB,QAAQ,EAAE,YAAY;MACrB,IAAI,CAAC0E,SAAS,CAAC,YAAY;QAC1B,IAAI,CAACC,gBAAgB,EAAE;QACvB,IAAI,CAACL,QAAQ,EAAE;MAChB,CAAC,CAAC;IACH,CAAC;IACDE,MAAM,EAAE,YAAY;MACnB,IAAI,CAACR,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC3H,IAAI,EAAE,CAAC;IAClC,CAAC;IAEDA,IAAI,EAAE,YAAY;MACjB,IAAIuI,CAAC,GAAG;QACPC,YAAY,EAAE,CAAC;QACfnC,SAAS,EAAE,CAAC;QACZoC,YAAY,EAAE;MACf,CAAC;MAED,IAAI,IAAI,CAACC,KAAK,CAAC,WAAW,CAAC,EAAE;QAC5BH,CAAC,CAACC,YAAY,GAAG,IAAI,CAACE,KAAK,CAAC,WAAW,CAAC,CAACF,YAAY;QACrDD,CAAC,CAAClC,SAAS,GAAG,IAAI,CAACxB,CAAC,GAAG,IAAI,CAAC6D,KAAK,CAAC,WAAW,CAAC,CAACrC,SAAS;QACxDkC,CAAC,CAACE,YAAY,GAAG,IAAI,CAACC,KAAK,CAAC,WAAW,CAAC,CAACD,YAAY;MACtD;MAEA,IAAI,CAAC7D,OAAO,GAAG2D,CAAC;MAEhB,OAAOA,CAAC;IACT,CAAC;IAEDxG,YAAY,EAAE,iBAA2B;MAAA,IAAjB;QAAEgB,KAAK;QAAEW;MAAK,CAAC;MACtC,IAAI,CAACiE,KAAK,CAAC,cAAc,EAAE;QAAE5E,KAAK;QAAEW;MAAK,CAAC,CAAC;IAC5C,CAAC;IAED1B,UAAU,EAAE,iBAAqB;MAAA,IAAX;QAAEe;MAAM,CAAC;MAC9B,IAAI,CAAC4E,KAAK,CAAC,YAAY,EAAE;QAAE5E;MAAM,CAAC,CAAC;IACpC,CAAC;IAEDjB,WAAW,EAAE,UAAUiB,KAAK,EAAE;MAC7B,IAAI,CAAC4E,KAAK,CAAC,aAAa,EAAE5E,KAAK,CAAC;IACjC,CAAC;IAED4F,cAAc,CAACC,KAAK,EAAE;MACrB,IAAI,CAACC,MAAM,GAAG,IAAI;MAClB,IAAI,CAACC,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE,OAAO,EAAEH,KAAK,CAAC;IACxC,CAAC;IAEDI,cAAc,GAAG;MAChB,IAAI,CAACH,MAAM,GAAG,KAAK;IACpB,CAAC;IAEDpF,WAAW,CAACxB,CAAC,EAAE;MACd,IAAI,CAAC0F,KAAK,CAAC,kBAAkB,EAAE1F,CAAC,CAAC;IAClC,CAAC;IAEDkC,UAAU,GAAG;MACZ,IAAI,CAACoC,WAAW,CAAC,CAAC,CAAC;IACpB,CAAC;IAED+B,gBAAgB,GAAG;MAClB;IAAA,CACA;IACD/B,WAAW,CAACgC,CAAC,EAAE;MACd,IAAI,IAAI,CAACG,KAAK,CAAC,WAAW,CAAC,EAAE;QAC5B,IAAI,CAACA,KAAK,CAAC,WAAW,CAAC,CAACrC,SAAS,GAAG,IAAI,CAACxB,CAAC,GAAG0D,CAAC;MAC/C;IACD,CAAC;IAEDnG,aAAa,CAACH,CAAC,EAAE;MAChB,IAAI,IAAI,CAACyG,KAAK,CAACzG,CAAC,CAACc,KAAK,CAACG,QAAQ,CAAC,EAAC;QAChC,IAAI+F,SAAS,GAAG,IAAI,CAACP,KAAK,CAACzG,CAAC,CAACc,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC/C,IAAI,CAACqD,WAAW,CAAC0C,SAAS,CAACC,SAAS,GAAG,IAAI,CAACtE,OAAO,CAAC6D,YAAY,GAAG,CAAC,GAAGQ,SAAS,CAACR,YAAY,GAAG,CAAC,CAAC;QAElGQ,SAAS,CAACE,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;QAEpCC,UAAU,CAAC,MAAM;UAChBJ,SAAS,CAACE,SAAS,CAACG,MAAM,CAAC,WAAW,CAAC;QACxC,CAAC,EAAE,IAAI,CAAC;MACT;MACA;IACD,CAAC;;IAEDnH,oBAAoB,EAAE,UAAUoH,SAAS,EAAE;MAC1C,IAAI,CAAC/G,QAAQ,GAAG+G,SAAS;MACzB,IAAI,CAAC5B,KAAK,CAAC,eAAe,EAAE4B,SAAS,CAAC;IACvC,CAAC;IAED7G,UAAU,EAAE,UAAUT,CAAC,EAAE;MACxB,IAAI,IAAI,CAACR,UAAU,KAAK,QAAQ,EAAE;QACjC;MACD,CAAC,MAAM;QACNQ,CAAC,CAACuH,cAAc,EAAE;QAClB,IAAI,CAACd,KAAK,CAAC,WAAW,CAAC,CAACrC,SAAS,IAAI,CAACpE,CAAC,CAACwH,MAAM;QAC9C,OAAO,KAAK;MACb;IACD,CAAC;IACDnG,eAAe,GAAG;MACjB,IAAI,CAACF,WAAW,GAAG,IAAI;IACxB,CAAC;IACDG,aAAa,CAAC4B,OAAO,EAAE;MACtB,IACC,IAAI,CAACzD,gBAAgB,CAACgI,MAAM,CAC1BC,IAAI,IAAKA,IAAI,CAACC,UAAU,KAAKzE,OAAO,CAACyE,UAAU,CAChD,CAACzD,MAAM,KAAK,CAAC,EACb;QACD,IAAI,CAACzE,gBAAgB,CAACyF,IAAI,CAAChC,OAAO,CAAC;MACpC;IACD,CAAC;IACD3B,aAAa,CAAC2B,OAAO,EAAE;MACtB,MAAMyD,KAAK,GAAG,IAAI,CAAClH,gBAAgB,CAACkE,SAAS,CAC3C+D,IAAI,IAAKA,IAAI,CAACC,UAAU,KAAKzE,OAAO,CAACyE,UAAU,CAChD;MACD,IAAIhB,KAAK,KAAK,CAAC,CAAC,EAAE;QACjB,IAAI,CAAClH,gBAAgB,CAACmI,MAAM,CAACjB,KAAK,EAAE,CAAC,CAAC;MACvC;IACD,CAAC;IAEDhF,iBAAiB,CAACiD,KAAK,EAAE;MACxB,IAAI,CAACc,KAAK,CAAC,mBAAmB,EAAEd,KAAK,CAAC;IACvC,CAAC;IAEDhD,WAAW,CAACiG,SAAS,EAAE;MAEtB,IAAI,CAACnC,KAAK,CAAC,aAAa,EAAEmC,SAAS,CAAC;IACrC;EACD;AACD,CAAC,E;;ACvS0N,CAAgB,sGAAG,EAAC,C;;;;;ACA/I;AACxC;AACL;AACnD;;AAEA,eAAe,mBAAO,CAAC,MAA6E;AACpG;;AAEA;;AAEA;AACgG;AAChG,gBAAgB,8CAAU;AAC1B,EAAE,oCAAM;AACR,EAAE,oDAAM;AACR,EAAE,6DAAe;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEe,0D;;;;ACvBiB;AAEwB;AAEhB;AAEzB;EACd5J,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE;IACNoB,IAAI,EAAE6C,MAAM;IACZ2F,UAAU,EAAEvF,MAAM;IAClBnD,KAAK,EAAE,CAAC+C,MAAM,EAAEG,KAAK,EAAEC,MAAM,CAAC;IAC9B9C,gBAAgB,EAAE;MACjBgD,IAAI,EAAEL,KAAK;MACX2F,OAAO,EAAE,MAAM;QACd,OAAO,EAAE;MACV;IACD;EACD,CAAC;EAED5J,UAAU,EAAE;IACXkB,YAAMA;EACP,CAAC;EAEDhB,IAAI,EAAE,YAAY;IACjB,OAAO;MACN2J,eAAe,EAAE,EAAE;MACnB1J,OAAO,EAAE,KAAK;MACd2J,SAAS,EAAE,KAAK;MAChBC,WAAW,EAAE,CAAC;MACdC,gBAAgB,EAAE,KAAK;MACvBhJ,QAAQ,EAAE,IAAI;MACdiJ,SAAS,EAAE,CAAC,CAAC;MACb5I,UAAU,EAAE+C,MAAM;MAClB8F,KAAK,EAAE,CAAC,CAAC;MACTC,GAAG,EAAE,KAAK;MACVC,GAAG,EAAE,KAAK;MAEVC,aAAa,EAAE,IAAI;MACnBC,cAAc,EAAE,IAAI;MACpBpJ,MAAM,EAAE,EAAE;MACVqJ,aAAa,EAAE,IAAI;MACnBC,WAAW,EAAG;IACf,CAAC;EACF,CAAC;EAEDC,OAAO,EAAE,YAAY;IACpB,IAAI,CAACC,IAAI,EAAE;IAEX,IAAI,IAAI,CAACvJ,IAAI,EAAE;MACd;IAAA;EAEF,CAAC;EAEDyE,KAAK,EAAE;IACN;;IAEA9E,MAAM,EAAE,YAAY;MACnB;MACA;MACA;MACA;MACA;MACA;IAAA;EAEF,CAAC;EACDT,QAAQ,EAAEkG,oCAAQ,CAAC;IAClBnF,QAAQ,EAAE,YAAY;MACrB,OAAO,IAAI,CAACjB,OAAO,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC;IAClD,CAAC;IAEDqG,IAAI,EAAGC,KAAK,IAAKA,KAAK,CAACD,IAAI;IAE3BmE,aAAa,EAAGlE,KAAK,IAAK,CAACA,KAAK,CAACmE,gBAAgB;IAEjDC,WAAW,EAAE,YAAY;MACxB,IAAIC,KAAK,GAAG;QACX,gBAAgB,EAAE,IAAI;QACtB,wBAAwB,EAAE,IAAI;QAC9B,SAAS,EAAE,IAAI;QACf,cAAc,EAAE,IAAI;QACpB,cAAc,EAAE,IAAI;QACpB,aAAa,EAAE,IAAI;QACnB,eAAe,EAAE,IAAI;QACrB,6BAA6B,EAAE,IAAI;QACnC,eAAe,EAAE,IAAI;QACrB,eAAe,EAAE,IAAI;QACrB,cAAc,EAAE;MACjB,CAAC;MAED,IACC5F,CAAC,CAAC6F,OAAO,CAAE,IAAI,CAAC5J,IAAI,IAAI,IAAI,CAACA,IAAI,CAAC6J,YAAY,CAACC,OAAO,IAAK,CAAC,CAAC,CAAC,CAAClF,MAAM,GACrE,CAAC,EACA;QACD+E,KAAK,CAAC,eAAe,CAAC,GAAG,IAAI;QAC7BA,KAAK,CAAC,qBAAqB,CAAC,GAAG,IAAI;MACpC;MAEA,OAAOA,KAAK;IACb,CAAC;IAEDpK,SAAS,EAAG+F,KAAK,IAAKA,KAAK,CAAC/F,SAAS;IACrCE,SAAS,EAAG6F,KAAK,IAAKA,KAAK,CAAC7F,SAAS;IACrCE,MAAM,EAAG2F,KAAK,IAAKA,KAAK,CAAC3F,MAAM;IAE/BL,GAAG,EAAE,UAAUgG,KAAK,EAAE;MACrB,OAAOA,KAAK,CAAC/F,SAAS;IACvB;EACD,CAAC,CAAC;EAEFwK,OAAO,GAAG;IACT,IAAI,CAACZ,cAAc,GAAGa,WAAW,CAAC,IAAI,CAACC,MAAM,EAAE,GAAG,CAAC;EACpD,CAAC;EACDnE,SAAS,GAAG;IACX,IAAI,IAAI,CAACjG,QAAQ,EAAE;MAClB,IAAI,CAACA,QAAQ,CAACqK,UAAU,CAAC,IAAI,CAACrK,QAAQ,CAACsK,WAAW,EAAE,IAAI,CAAC;IAC1D;IAEAC,aAAa,CAAC,IAAI,CAACjB,cAAc,CAAC;EACnC,CAAC;EAEDlK,OAAO,EAAE;IACRuB,YAAY,EAAE,gBAA2B;MAAA,IAAjB;QAAEgB,KAAK;QAAEW;MAAK,CAAC;MACtC,IAAI,CAACiE,KAAK,CAAC,cAAc,EAAE;QAAE5E,KAAK;QAAEW;MAAK,CAAC,CAAC;IAC5C,CAAC;IACD1B,UAAU,EAAE,iBAAqB;MAAA,IAAX;QAAEe;MAAM,CAAC;MAC9B,IAAI,CAAC4E,KAAK,CAAC,YAAY,EAAE;QAAE5E;MAAM,CAAC,CAAC;IACpC,CAAC;IAEDjB,WAAW,EAAE,UAAUiB,KAAK,EAAE;MAC7B,IAAI,CAACxB,IAAI,CAACqK,eAAe,EAAE,CAAC9J,WAAW,CAACiB,KAAK,CAACA,KAAK,CAACG,QAAQ,CAAC;IAC9D,CAAC;IACD2I,EAAE,EAAE,YAAY;MACf,IAAI,IAAI,CAACvB,KAAK,CAAC7B,YAAY,EAAE,OAAO,IAAI,CAAC6B,KAAK,CAAC7B,YAAY;IAC5D,CAAC;IACDqD,SAAS,EAAE,YAAY;MACtB,IAAIxK,MAAM,GAAG,IAAI,CAACF,QAAQ,CAAC0K,SAAS,EAAE;MAEtC,IAAIC,cAAc,GAAGzK,MAAM,CACzBoI,MAAM,CAAEzH,CAAC,IAAK;QACd,OAAOA,CAAC,CAACc,KAAK,CAAC2B,IAAI,KAAK,6BAA6B;MACtD,CAAC,CAAC,CACDsH,GAAG,EAAE;MAEP1K,MAAM,GAAGgE,CAAC,CAACoE,MAAM,CAACpI,MAAM,EAAGW,CAAC,IAAK;QAChC,IAAIyC,IAAI,GAAGzC,CAAC,CAACc,KAAK,CAAC2B,IAAI;QAEvB,IAAIzC,CAAC,CAACgK,mBAAmB,EAAE,IAAIhK,CAAC,CAACiK,iBAAiB,EAAE,EAAE;UACrD;QACD;QACA,IAAIjK,CAAC,CAACc,KAAK,CAAC2B,IAAI,KAAK,6BAA6B,EAAE;UACnD,IAAIzC,CAAC,CAACc,KAAK,CAACG,QAAQ,KAAK6I,cAAc,CAAChJ,KAAK,CAACG,QAAQ,EAAE;YACvD,IAAIjB,CAAC,CAACc,KAAK,CAACoJ,OAAO,CAACC,QAAQ,KAAKC,SAAS,EAAE;cAC3C,OAAO,KAAK;YACb,CAAC,MAAM;cACN,IAAI,IAAI,CAAC/E,IAAI,CAACgF,IAAI,CAACC,EAAE,CAACtK,CAAC,CAACc,KAAK,CAACyJ,MAAM,CAAC,EAAE;gBACtC,OAAO,KAAK;cACb,CAAC,MAAM;gBACN,OAAO,IAAI;cACZ;YACD;UACD,CAAC,MAAM;YACN,OAAO,KAAK;UACb;QACD;QAEA,IACCvK,CAAC,CAACc,KAAK,CAAC2B,IAAI,KAAK,qBAAqB,IACtCN,MAAM,CAACqI,IAAI,CAACxK,CAAC,CAACc,KAAK,CAACoJ,OAAO,CAACO,KAAK,CAAC,CAACvG,MAAM,KAAK,CAAC,EAC9C;UACD;QACD;QACA,IACC,IAAI,CAAC5E,IAAI,CAAC6J,YAAY,CAACuB,UAAU,EAAE,CAACxG,MAAM,IAAI,CAAC,IAC/ClE,CAAC,CAACc,KAAK,CAAC2B,IAAI,KAAK,eAAe,IAChC,qBAAqB,EACpB;UACD;QACD;QACA,OAAO,CAAC,IAAI,CAACuG,WAAW,IAAI,IAAI,CAACA,WAAW,CAACvG,IAAI,CAAC;MACnD,CAAC,CAAC;MAEFpD,MAAM,GAAGA,MAAM,CAACsL,OAAO,EAAE;MAEzB,IAAI,CAACC,SAAS,CAACvL,MAAM,CAAC;MAEtBA,MAAM,GAAGgE,CAAC,CAACkB,MAAM,CAAClF,MAAM,EAAE,UAAUW,CAAC,EAAE;QACtC,OAAOA,CAAC,CAAC6K,kBAAkB,EAAE,IAAI7K,CAAC,CAAC8K,OAAO,EAAE,IAAIC,QAAQ;MACzD,CAAC,CAAC;MAEF1L,MAAM,GAAGA,MAAM,CAACsL,OAAO,EAAE;MAEzBtL,MAAM,GAAGgE,CAAC,CAAC2H,IAAI,CAAC3L,MAAM,EAAGW,CAAC,IAAK;QAC9B,OAAO,IAAI,CAACqF,IAAI,CAACgF,IAAI,CAACY,YAAY,CAACjL,CAAC,CAAC,IAAIoD,4BAAC,CAAC8H,MAAM,EAAE;MACpD,CAAC,CAAC;MAEF7L,MAAM,GAAGgE,CAAC,CAACkB,MAAM,CAAClF,MAAM,EAAE,UAAUW,CAAC,EAAE;QACtC,OAAOA,CAAC,CAAC8K,OAAO,EAAE,IAAIC,QAAQ;MAC/B,CAAC,CAAC;MAEF1L,MAAM,GAAGA,MAAM,CAACsL,OAAO,EAAE;MAEzB,IAAI,CAACjF,KAAK,CAAC,WAAW,EAAErG,MAAM,CAAC;MAC/B;MACA;MACA;;MAEA,OAAOA,MAAM;IACd,CAAC;IAED8L,mBAAmB,EAAE,YAAY;MAChC,IAAI9L,MAAM,GAAG,IAAI,CAACwK,SAAS,EAAE;MAE7B,OAAOuB,OAAO,CAACC,GAAG,CACjBhI,CAAC,CAACiI,GAAG,CAACjM,MAAM,EAAGW,CAAC,IAAK;QACpB,IAAI,CAAC,IAAI,CAACV,IAAI,CAACiM,OAAO,EAAE,OAAOH,OAAO,CAACI,OAAO,EAAE;QAEhD,IAAIxL,CAAC,CAACc,KAAK,CAAC2K,SAAS,EAAE,OAAOL,OAAO,CAACI,OAAO,EAAE;QAE/C,IAAIE,EAAE,GAAG,IAAI;QACb,IAAIC,OAAO,GAAGvI,4BAAC,CAACwI,IAAI,CAAC5L,CAAC,EAAE,uBAAuB,CAAC;;QAEhD;;QAEA,IAAI6L,KAAK,GACRzI,4BAAC,CAACwI,IAAI,CAAC5L,CAAC,EAAE,4BAA4B,CAAC,IACvCoD,4BAAC,CAACwI,IAAI,CAAC5L,CAAC,EAAE,6BAA6B,CAAC;QAEzC,IAAI6L,KAAK,EAAE;UACV,IAAIF,OAAO,IAAI,SAAS,EAAE,CAC1B;UAEA,IAAIA,OAAO,IAAI,SAAS,EAAE;YACzBD,EAAE,GAAG,IAAI,CAACrG,IAAI,CAACgF,IAAI,CAACyB,QAAQ,CAAC,IAAI,CAACxM,IAAI,EAAEU,CAAC,CAAC,CAAC+F,KAAK,CAAE3G,KAAK,IAAK;cAC3D2M,OAAO,CAAC3M,KAAK,CAACA,KAAK,CAAC;cAEpBY,CAAC,CAACc,KAAK,CAAC2K,SAAS,GAAG;gBACnBO,OAAO,EAAE;cACV,CAAC;YACF,CAAC,CAAC;UACH;UAEA,IAAIL,OAAO,IAAI,aAAa,EAAE;YAC7BD,EAAE,GAAG,IAAI,CAACpM,IAAI,CAACiM,OAAO,CACpBU,YAAY,CAACjM,CAAC,CAACc,KAAK,CAAC,CACrBoL,IAAI,CAAEC,CAAC,IAAK;cACZnM,CAAC,CAACc,KAAK,CAAC2K,SAAS,GAAGU,CAAC;cAErB,OAAOf,OAAO,CAACI,OAAO,EAAE;YACzB,CAAC,CAAC,CACDzF,KAAK,CAAE/F,CAAC,IAAK;cACbA,CAAC,CAACc,KAAK,CAAC2K,SAAS,GAAG;gBACnBO,OAAO,EAAE;cACV,CAAC;cAED,OAAOZ,OAAO,CAACI,OAAO,EAAE;YACzB,CAAC,CAAC;UACJ;QACD,CAAC,MAAM;UACN,IAAIG,OAAO,IAAI,SAAS,EAAE;YACzBD,EAAE,GAAG,IAAI,CAACrG,IAAI,CAACgF,IAAI,CAAC+B,iBAAiB,CAAC,IAAI,CAAC9M,IAAI,EAAEU,CAAC,CAAC;UACpD;QACD;QAEA,IAAI,CAAC0L,EAAE,EAAE,OAAON,OAAO,CAACI,OAAO,EAAE;QAEjC,OAAOE,EAAE,CAAC3F,KAAK,CAAE/F,CAAC,IAAK;UACtB,OAAOoL,OAAO,CAACI,OAAO,EAAE;QACzB,CAAC,CAAC;MAEH,CAAC,CAAC,CACF,CAACU,IAAI,CAAC,MAAM;QACZ,OAAOd,OAAO,CAACI,OAAO,CAACnM,MAAM,CAAC;MAC/B,CAAC,CAAC;IACH,CAAC;IAEDuL,SAAS,EAAE,UAAUvL,MAAM,EAAE;MAC5B,IAAIgN,EAAE,GAAG,IAAI,CAAClN,QAAQ,CAACmN,YAAY;MAEnCjJ,CAAC,CAAC4B,IAAI,CAAC5F,MAAM,EAAGW,CAAC,IAAK;QACrB,IAAI;UACH;UACA,IAAIuM,EAAE,GAAGF,EAAE,CAACG,oBAAoB,CAC/BxM,CAAC,CAACc,KAAK,CAACG,QAAQ,EAChB,WAAW,EACX,gBAAgB,CAChB;UAED,IAAIsL,EAAE,EAAE;YACP,IAAIE,IAAI,GAAGF,EAAE,CAACG,kBAAkB,EAAE;YAElC,IAAID,IAAI,EAAE;cACTzM,CAAC,CAACc,KAAK,CAACoJ,OAAO,CAACyC,IAAI,GAAGF,IAAI,CAAC3L,KAAK,CAACoJ,OAAO,CAACyC,IAAI;cAC9C3M,CAAC,CAACc,KAAK,CAACoJ,OAAO,CAAC0C,MAAM,GAAGH,IAAI,CAAC3L,KAAK,CAACG,QAAQ;cAC5CjB,CAAC,CAACc,KAAK,CAACoJ,OAAO,CAAC2C,KAAK,GAAGJ,IAAI,CAAC3L,KAAK,CAACoJ,OAAO,CAAC2C,KAAK;cAChD7M,CAAC,CAACc,KAAK,CAACoJ,OAAO,CAAC8B,OAAO,GAAGS,IAAI,CAAC3L,KAAK,CAACoJ,OAAO,CAAC8B,OAAO;cACpDhM,CAAC,CAACc,KAAK,CAAC2K,SAAS,GAAGgB,IAAI,CAAC3L,KAAK,CAAC2K,SAAS;YACzC;UACD;QACD,CAAC,CAAC,OAAOzL,CAAC,EAAE;UACX+L,OAAO,CAAC3M,KAAK,CAACY,CAAC,CAAC;QACjB;MACD,CAAC,CAAC;IACH,CAAC;IACD8M,gBAAgB;MAAA,wDAAE,aAAkB;QACnC,IAAIrF,MAAM,GAAG,IAAI,IAAI,CAACpC,IAAI,CAACgF,IAAI,CAAC0C,GAAG,CAACC,MAAM,CAACC,MAAM,CAACC,SAAS,EAAE,CAAC;QAE9DzF,MAAM,CAAC0F,aAAa,CAAC;UACpBC,IAAI,EAAE;YACLjO,QAAQ,EAAE;cACTkO,YAAY,EAAE,IAAI;cAClBpE,KAAK,EAAE,CAAC,gBAAgB;YACzB;UACD;QACD,CAAC,CAAC;QAEFxB,MAAM,CAAC6F,QAAQ,SAAS,IAAI,CAACjI,IAAI,CAACgF,IAAI,CAAC4C,MAAM,CAACM,iBAAiB,CAC9D,eAAe,GAAG,IAAI,CAAClI,IAAI,CAACgF,IAAI,CAAC4C,MAAM,CAACO,WAAW,CAACC,MAAM,EAC1DhG,MAAM,CACN;QAED,OAAO,IAAI,CAACnI,IAAI,CAACoO,8BAA8B,CAACjG,MAAM,CAAC;MACxD,CAAC;MAAA;QAAA;MAAA;IAAA;IACDoB,IAAI;MAAA,wDAAE,aAAkB;QACvB,IAAI,CAACvK,OAAO,GAAG,IAAI;QACnB,IAAI,CAACoK,aAAa,GAAG,IAAI;QAEzBqD,OAAO,CAAC4B,GAAG,CAAC,WAAW,EAAE,IAAI,CAACrO,IAAI,CAAC;;QAEnC;;QAGAyM,OAAO,CAAC4B,GAAG,CAAC,UAAU,EAAExO,QAAQ,CAAC;;QAEjC;;QAGA;;QAEA,IAAIkN,EAAE;QAEN,IAAI,IAAI,CAACvE,UAAU,KAAK,QAAQ,EAAE;UACjC,IAAI,CAACtI,UAAU,GAAG,QAAQ;UAC1B6M,EAAE,SAAS,IAAI,CAACS,gBAAgB,EAAE;QACnC,CAAC,MAAM;UAEN,IAAI3N,QAAQ,GAAG,IAAI,CAACG,IAAI,CAACqK,eAAe,EAAE;UAE1C0C,EAAE,GAAGlN,QAAQ,CAACyO,cAAc,EAAE;QAC/B;QAEA,IAAI,CAACzO,QAAQ,GAAG,IAAI,IAAI,CAACkG,IAAI,CAACgF,IAAI,CAAC0C,GAAG,CAACc,cAAc,CACpD,IAAI,CAACxI,IAAI,CAACgF,IAAI,CAAC4C,MAAM,EACrBZ,EAAE,CACF;QAEDjF,UAAU,CAAC,MAAM;UAChB,IAAI,CAACjI,QAAQ,CACX2O,IAAI;YAAC,6BAA6B,CAClC5B,IAAI,CAAE6B,CAAC,IAAK;YACZ,OAAO,IAAI,CAAC5C,mBAAmB,EAAE;UAClC,CAAC,CAAC,CACDe,IAAI,CAAE7M,MAAM,IAAK;YACjB,IAAI,CAACA,MAAM,GAAGA,MAAM;YAEpB,IAAI,CAACf,OAAO,GAAG,KAAK;YAEpB8I,UAAU,CAAC,MAAM;cAChB,IAAI,CAAC4G,eAAe,EAAE;YACvB,CAAC,EAAE,GAAG,CAAC;UACR,CAAC,CAAC,CACDjI,KAAK,CAAE/F,CAAC,IAAK;YACb,IAAI,CAAC1B,OAAO,GAAG,KAAK;UACrB,CAAC,CAAC;QACJ,CAAC,EAAE,EAAE,CAAC;;QAEN;AACH;AACA;AACA;AACA;MACE,CAAC;MAAA;QAAA;MAAA;IAAA;IAED2P,eAAe,EAAE,UAAShN,QAAQ,EAAC;MAClC,IAAIH,KAAK,GAAGuC,CAAC,CAACC,IAAI,CAAC,IAAI,CAACjE,MAAM,EAAGW,CAAC,IAAK;QACtC,OAAOA,CAAC,CAACc,KAAK,CAACG,QAAQ,IAAIA,QAAQ;MACpC,CAAC,CAAC;MAEF,IAAIH,KAAK,EAAC;QACT,OAAOsK,OAAO,CAACI,OAAO,CAAC1K,KAAK,CAAC;MAC9B,CAAC,MAEG;QACH,IAAIoN,OAAO,GAAG,IAAI,CAACC,QAAQ,CAAC,GAAG,CAAC;QAEhC,IAAID,OAAO,EAAC;UACX,OAAOA,OAAO,CAAChC,IAAI,CAAC,MAAM;YACzB,OAAO,IAAI,CAAC+B,eAAe,CAAChN,QAAQ,CAAC;UACtC,CAAC,CAAC,CAAC8E,KAAK,CAAC/F,CAAC,IAAI;YACb,IAAG,CAACc,KAAK,EAAE,OAAOsK,OAAO,CAACI,OAAO,CAAC,IAAI,CAAC;UACxC,CAAC,CAAC;QACH,CAAC,MAEG;UACH,IAAG,CAAC1K,KAAK,EAAE,OAAOsK,OAAO,CAACI,OAAO,CAAC,IAAI,CAAC;QACxC;MACD;IACD,CAAC;IAED4C,YAAY,EAAE,UAAUC,SAAS,EAAE;MAClC,IAAI,IAAI,CAACC,QAAQ,CAACD,SAAS,CAAC,EAAE;QAC7B,IAAI3C,EAAE,GAAG,IAAI,CAACyC,QAAQ,CAACE,SAAS,CAAC;QAEjC,IAAI3C,EAAE,EAAEA,EAAE,CAAC3F,KAAK,CAAC/F,CAAC,IAAI,CAAC,CAAC,CAAC;MAC1B;IACD,CAAC;IAEDmO,QAAQ,EAAE,UAAUE,SAAS,EAAEE,GAAG,EAAE;MACnC;;MAEA,IAAI,CAAC,IAAI,CAACjQ,OAAO,IAAI,IAAI,CAACa,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,GAAGkP,SAAS,CAAC,EAAE;QAC9D,IAAI,IAAI,CAAClP,QAAQ,CAACqP,WAAW,CAACH,SAAS,CAAC,IAAIE,GAAG,EAAE;UAChD,IAAI,CAAC,IAAI,GAAGF,SAAS,CAAC,GAAG,IAAI;UAE7B,IAAII,KAAK,GAAG,8BAA+B,EAAE;UAE7C,IAAIrP,KAAK,GAAG,IAAI;UAEhB,OAAO,IAAI,CAACD,QAAQ,CAClBgP,QAAQ,CAACE,SAAS,EAAEI,KAAK,CAAC,CAC1BvC,IAAI,CAAElM,CAAC,IAAK;YACZ,OAAOoL,OAAO,CAACI,OAAO,EAAE;UACzB,CAAC,CAAC,CACDzF,KAAK,CAAE/F,CAAC,IAAK;YACbZ,KAAK,GAAGY,CAAC;YACT,OAAOoL,OAAO,CAACI,OAAO,EAAE;UACzB,CAAC,CAAC,CACDU,IAAI,CAAE6B,CAAC,IAAK;YACZ,OAAO,IAAI,CAAC5C,mBAAmB,EAAE;UAClC,CAAC,CAAC,CACDe,IAAI,CAAE7M,MAAM,IAAK;YACjB,IAAI,CAACA,MAAM,GAAGA,MAAM;YAEpB,IAAI,CAACqJ,aAAa,GAAG,KAAK;YAE1B,IAAI,CAAC,IAAI,GAAG2F,SAAS,CAAC,GAAG,KAAK;UAC/B,CAAC,CAAC,CAACnC,IAAI,CAAC,MAAM;YACb,IAAGlM,CAAC,EAAE,OAAOoL,OAAO,CAACsD,MAAM,CAAC1O,CAAC,CAAC;UAC/B,CAAC,CAAC;QAGJ,CAAC,MAAM;UACN,IAAI,CAAC2O,OAAO,EAAE;QACf;MACD;IACD,CAAC;IAEDX,eAAe,EAAE,YAAY;MAC5B,IAAI,IAAI,CAAClG,UAAU,KAAK,QAAQ,EAAE;QACjC,IAAI,CAACsG,YAAY,CAAC,GAAG,CAAC;MACvB,CAAC,MAAM;QACN,IAAI,CAACA,YAAY,CAAC,GAAG,CAAC;QACtB,IAAI,CAACA,YAAY,CAAC,GAAG,CAAC;MACvB;IACD,CAAC;IAEDE,QAAQ,EAAE,UAAUD,SAAS,EAAE;MAC9B,IAAIN,CAAC,GAAG,KAAK;MAEb,IAAIxH,YAAY,GAAG,IAAI,CAAC8B,KAAK,CAAC9B,YAAY,IAAI,CAAC;MAC/C,IAAInC,SAAS,GAAG,IAAI,CAACiE,KAAK,CAACjE,SAAS,IAAI,CAAC;MACzC,IAAIoC,YAAY,GAAGoI,IAAI,CAACC,GAAG,CAAC,IAAI,CAACxG,KAAK,CAAC7B,YAAY,IAAI,CAAC,EAAE,GAAG,CAAC;MAE9D,IAAI6H,SAAS,IAAI,GAAG,EAAE;QACrB,IAAIS,SAAS,GAAGtI,YAAY;QAE5B,IAAID,YAAY,GAAGnC,SAAS,GAAGoC,YAAY,GAAGsI,SAAS,EAAEf,CAAC,GAAG,IAAI;MAClE,CAAC,MAAM;QACN,IAAI3J,SAAS,GAAGoC,YAAY,EAAEuH,CAAC,GAAG,IAAI;MACvC;MAEA,OAAOA,CAAC;IACT,CAAC;IAEDgB,SAAS,EAAE,UAAUjO,KAAK,EAAE;MAC3B,IAAIkO,IAAI,GAAG,IAAI,CAAC3J,IAAI,CAACgF,IAAI,CAACC,EAAE,CAACxJ,KAAK,CAACA,KAAK,CAACyJ,MAAM,CAAC;MAEhD,IAAIyE,IAAI,EAAE;QACT;MACD;MACA,IAAI,CAAC3J,IAAI,CAACgF,IAAI,CAAC4C,MAAM,CAACgC,eAAe,CAACnO,KAAK,CAAC;IAC7C,CAAC;IAEDoO,SAAS,EAAE,YAAY;MACtB,IAAI7P,MAAM,GAAG,IAAI,CAACF,QAAQ,CAAC0K,SAAS,EAAE;MAEtC,IAAI,CAACkF,SAAS,CAAC1P,MAAM,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC;IAED8P,QAAQ,EAAE,YAAY;MACrB,IAAI9P,MAAM,GAAG,IAAI,CAACF,QAAQ,CAAC0K,SAAS,EAAE;MAEtCkC,OAAO,CAAC4B,GAAG,CAACtO,MAAM,CAAC;MACnB,IAAI,CAAC0P,SAAS,CAAC1P,MAAM,CAACA,MAAM,CAAC6E,MAAM,GAAG,CAAC,CAAC,CAAC;IAC1C,CAAC;IAEDkL,UAAU,EAAE,UAAU/P,MAAM,EAAE;MAC7BgE,CAAC,CAAC4B,IAAI,CAAC5F,MAAM,EAAGW,CAAC,IAAK;QACrB,IAAI,CAAC+O,SAAS,CAAC/O,CAAC,CAAC;MAClB,CAAC,CAAC;IACH,CAAC;IACDqP,OAAO,GAAG;MACT,IAAI,CAAChK,IAAI,CAACgF,IAAI,CACZ4C,MAAM,CAAC,IAAI,CAAC3N,IAAI,CAACH,QAAQ,CAAC,IAAI,CAACG,IAAI,CAACH,QAAQ,CAAC+E,MAAM,GAAG,CAAC,CAAC,CAAC,CACzDgI,IAAI,CAAE6B,CAAC,IAAK;QACZ,OAAOA,CAAC;MACT,CAAC,CAAC;IACJ,CAAC;IACDuB,gBAAgB,EAAGjM,CAAC,CAAC4C,QAAQ,CAAC,YAAU;MAEvC,IAAI,CAAC,IAAI,CAAC3G,IAAI,EAAE;MAChB,IAAI,IAAI,CAACqJ,WAAW,EAAE;MAEtB,IAAI5H,CAAC,GAAG,IAAI,CAACzB,IAAI,CAACH,QAAQ,CAAC+E,MAAM,GAAG,CAAC;MACrC,IAAIpD,KAAK,GAAG,IAAI;MAEhBiL,OAAO,CAAC4B,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACrO,IAAI,CAACH,QAAQ,CAAC;MAEnD2B,KAAK,GAAG,IAAI,CAACxB,IAAI,CAACH,QAAQ,CAAC4B,CAAC,CAAC;;MAE7B;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MAQGgL,OAAO,CAAC4B,GAAG,CAAC,OAAO,EAAE7M,KAAK,CAAC;MAE3B,IAAIA,KAAK,EAAE;QAEV,IAAIA,KAAK,CAACyO,SAAS,EAAC;UACnB;QACD;QAEA,IAAIC,GAAG,GAAG1O,KAAK,CAACA,KAAK,CAACG,QAAQ;QAE9B,IAAI,CAAC0H,WAAW,GAAG,IAAI,CAACtD,IAAI,CAACgF,IAAI,CAAC4C,MAAM,CACtCwC,kBAAkB,CAAC,IAAI,CAACnQ,IAAI,CAAC6J,YAAY,CAACuG,MAAM,EAAEF,GAAG,EAAE1O,KAAK,EAAE;UAC9D6O,MAAM,EAAE,CAAC,IAAI,CAAC7G,aAAa,GAAG,IAAI,GAAG;QACtC,CAAC,CAAC,CAACoD,IAAI,CAAE6B,CAAC,IAAK;UACdjN,KAAK,CAAC8O,MAAM,GAAG,IAAI;UACnB,OAAO7B,CAAC;QACT,CAAC,CAAC,CAAChI,KAAK,CAAC/F,CAAC,IAAI;UACb+L,OAAO,CAAC3M,KAAK,CAACY,CAAC,CAAC;UAChBc,KAAK,CAACyO,SAAS,GAAGvP,CAAC;QACpB,CAAC,CAAC,CACD6P,OAAO,CAAC,MAAM;UACd,IAAI,CAAClH,WAAW,GAAG,IAAI;QACxB,CAAC,CAAC;MACJ;IACD,CAAC,EAAE,GAAG,CAAC;IACPgG,OAAO,EAAE,YAAY;MACpB,IACCmB,QAAQ,CAACC,QAAQ,EAAE,KAClB,CAAC,IAAI,CAAClR,SAAS,IAAI,IAAI,CAACI,MAAM,CAAC,IAChC,CAAC,IAAI,CAACoG,IAAI,CAAC2K,cAAc,IACzB,IAAI,CAAC1Q,IAAI,IACT,IAAI,CAACA,IAAI,CAAC2Q,oBAAoB,EAAE,GAAG,CAAC,IACpC,IAAI,CAAC3Q,IAAI,CAAC+E,0BAA0B,EAAE,KAAK,CAAC,EAC5C;QACA,IAAI,CAACiL,gBAAgB,EAAE;MACxB;IAED,CAAC;IAED;;IAEA1P,OAAO,EAAE,UAAU7B,IAAI,EAAE;MACxB,IAAI,CAAC4B,WAAW,CAAC5B,IAAI,CAAC;MACtB,IAAI,CAAC2H,KAAK,CAAC,QAAQ,EAAE3H,IAAI,CAAC;IAC3B,CAAC;IAED4B,WAAW,EAAE,UAAU5B,IAAI,EAAE;MAC5B,IAAI,CAACsK,KAAK,GAAGtK,IAAI;IAClB,CAAC;IAEDwL,MAAM,EAAE,UAAUvJ,CAAC,EAAE;MACpB,IAAI,CAAC,IAAI,CAACiI,SAAS,EAAE;QACpB,IAAI,CAAC+F,eAAe,EAAE;MACvB,CAAC,MAAM;QACN;MAAA;IAEF,CAAC;IAED1J,WAAW,EAAE,UAAUgC,CAAC,EAAE;MACzB,IAAI,CAAC2B,SAAS,GAAG,IAAI;MAErB,IAAI,CAACxB,KAAK,CAACyJ,UAAU,CAAC5L,WAAW,CAACgC,CAAC,CAAC;MAEpC,IAAI,CAAC2B,SAAS,GAAG,KAAK;IACvB,CAAC;IAEDhI,YAAY,EAAE,UAAUD,CAAC,EAAE;MAC1B,IAAI,CAAC0F,KAAK,CAAC,YAAY,EAAE1F,CAAC,CAAC;IAC5B,CAAC;IAEDE,oBAAoB,EAAE,UAAUoH,SAAS,EAAE;MAC1C,IAAI,CAAC5B,KAAK,CAAC,eAAe,EAAE4B,SAAS,CAAC;IACvC,CAAC;IAEDnH,aAAa,EAAE,UAAS0H,SAAS,EAAC;MAEjC,IAAI,CAACsI,MAAM,CAACvL,KAAK,CAACwL,eAAe,GAAG,IAAI;MAExC,IAAI,CAACnC,eAAe,CAACpG,SAAS,CAAC/G,KAAK,CAACG,QAAQ,CAAC,CAACiL,IAAI,CAACpL,KAAK,IAAI;QAE5D,IAAIA,KAAK,EAAC;UACT,IAAI,CAAC2F,KAAK,CAACyJ,UAAU,CAAC/P,aAAa,CAACW,KAAK,CAAC;QAC3C;MACD,CAAC,CAAC,CAAC+O,OAAO,CAAC,MAAM;QAChB,IAAI,CAACM,MAAM,CAACvL,KAAK,CAACwL,eAAe,GAAG,KAAK;MAE1C,CAAC,CAAC;IACH;EAGD;AACD,CAAC,E;;ACxoB0N,CAAgB,oHAAG,EAAC,C;;ACA/I;AACxC;AACL;AACnD,SAAS,iBAAY;;AAErB,eAAe,mBAAO,CAAC,MAA6E;AACpG;;AAEA;;AAEA;AACgG;AAChG,IAAI,cAAS,GAAG,8CAAU;AAC1B,EAAE,6CAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA,EAAE,iBAAY;AACd;AACA;AACA;AACA;;AAEe,uFAAS,Q;;;;;;;ACvBxB;AACA,kCAAkC,mBAAO,CAAC,MAAyD;AACnG;AACA;AACA,cAAc,QAAS,kCAAkC,gBAAgB,oCAAoC,eAAe,2BAA2B,eAAe,sBAAsB,mBAAmB,mEAAmE,kBAAkB;AACpS;AACA;;;;;;;;;ACNA;AAAA;AAAA;AAAA;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;;;;;;;ACAA;;AAEA;AACA,cAAc,mBAAO,CAAC,MAAya;AAC/b;AACA,4CAA4C,QAAS;AACrD;AACA;AACA,UAAU,mBAAO,CAAC,MAAmE;AACrF;AACA;AACA,E;;;;;;;;ACXA;AAAA;AAAA;AAAA","file":"matrix-element.0.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=style&index=0&id=d22cd0ca&prod&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"5d90cea9\", content, shadowRoot)\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"typingBlock\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"typingBlockWrapper\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.$t(\"caption.typing\")))])]),_c('div',[_c('PulseLoader',{attrs:{\"color\":_vm.color,\"size\":_vm.size,\"loading\":true}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div style=\"position: relative\" class=\"typingBlock\">\r\n\t\t<div class=\"typingBlockWrapper\">\r\n\t\t\t<div>\r\n\t\t\t\t<span>{{ $t(\"caption.typing\") }}</span>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<PulseLoader :color=\"color\" :size=\"size\" :loading=\"true\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport PulseLoader from \"vue-spinner/src/PulseLoader.vue\";\r\n\r\nexport default {\r\n\tname: \"typing\",\r\n\r\n\tprops: {},\r\n\tcomponents: {\r\n\t\tPulseLoader,\r\n\t},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\tcolor: \"#868686\",\r\n\t\t\tsize: \"2px\",\r\n\t\t\tloading: true,\r\n\t\t};\r\n\t},\r\n\tmethods: {},\r\n\tcomputed: {},\r\n};\r\n</script>\r\n<style lang=\"sass\">\r\n\r\n.typingBlock\r\n  position: relative\r\n\r\n  .typingBlockWrapper\r\n    position: absolute\r\n    left: 50%\r\n    transform: translateX(-50%)\r\n    top: -5px\r\n    display: flex\r\n    align-items: center\r\n\r\n    >div\r\n      padding : 0 $r\r\n\r\n    span\r\n      font-size: 0.7em\r\n      color : srgb(--neutral-grad-3)\r\n      opacity: 0.8\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./typing.vue?vue&type=template&id=d22cd0ca&\"\nimport script from \"./typing.vue?vue&type=script&lang=js&\"\nexport * from \"./typing.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./typing.vue?vue&type=style&index=0&id=d22cd0ca&prod&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=9711b96a&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"10c9906c\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".eventWrapper[data-v-8a7a405a] .event{padding:.25em 0}.eventWrapper[data-v-8a7a405a]{transition:background .3s}.eventWrapper.attention[data-v-8a7a405a],.eventWrapper.attention[data-v-8a7a405a] .allscreen{background:rgb(var(--neutral-grad-0))}.list-enter-active[data-v-8a7a405a],.list-leave-active[data-v-8a7a405a]{transition:all 1s}.list-enter[data-v-8a7a405a],.list-leave-to[data-v-8a7a405a]{opacity:0}#events[data-v-8a7a405a]{left:0;right:0;top:0;bottom:0;padding-bottom:50px;position:absolute;transition:.3s}#events.mobile[data-v-8a7a405a]{padding-bottom:81px;transform:translate3d(0,calc(var(--keyboardheight, 0)*-1 - -1px),0)}#events.mobile .scrollbottom[data-v-8a7a405a]{bottom:5em}.dummyheight[data-v-8a7a405a]{height:100%;width:2px;left:0;right:0;top:0;bottom:0;background:rgb(var(--color-shadow-base))}.preloadingWrapper[data-v-8a7a405a]{padding:2em;text-align:center;opacity:.5;color:rgb(var(--text-color))}.scrollbottom[data-v-8a7a405a]{position:absolute;right:.5em;bottom:4em;cursor:pointer;border-radius:50%;background:rgb(var(--background-main));box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);color:rgb(var(--color-txt-gray-dark));width:35px;height:35px;line-height:35px;text-align:center;z-index:3}.scrollbottom i[data-v-8a7a405a]{font-size:.7em}.eventsflex[data-v-8a7a405a]{display:flex;flex-flow:column;overflow-y:overlay;overflow-x:hidden;max-width:640px;margin:0 auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;flex-wrap:nowrap;width:100%;height:100%;scroll-behavior:auto;continue:fragments;justify-content:flex-start;transform:scaleY(-1);contain:strict}.eventsflex.freeze[data-v-8a7a405a]{overflow-y:hidden}.eventsflex .ewr[data-v-8a7a405a]{position:relative}.eventsflex .eventspage[data-v-8a7a405a],.eventsflex .ewr[data-v-8a7a405a]{width:100%;display:flex;flex-flow:column;flex-wrap:nowrap;justify-content:flex-start}.eventsflex .errorWrapper[data-v-8a7a405a]{padding:.5em}.eventsflex .errorWrapper .btnwrp[data-v-8a7a405a]{padding-top:.5em}.eventsflex .errorWrapper .error[data-v-8a7a405a]{padding:1em;border-radius:1em;background:rgb(var(--neutral-grad-0))}.eventsflex .errorWrapper[data-v-8a7a405a],.eventsflex .eventWrapper[data-v-8a7a405a]{width:100%;transform:scaleY(-1)}.eventsflex.mobile[data-v-8a7a405a]{scroll-behavior:smooth}.eventsflex.mobile[data-v-8a7a405a] .dropdown.visible{top:-55px}.eventsflex.mobile[data-v-8a7a405a] .outer-div .backgr,.eventsflex.mobile[data-v-8a7a405a] .outer-div .menuwrapper{position:absolute}.eventsflex.mobile.ios.menuOpen[data-v-8a7a405a]{overflow:visible}.galleryRow[data-v-8a7a405a]{display:flex;align-items:flex-end}.galleryRow .messageImg[data-v-8a7a405a]{max-width:50%;margin:0 10px;position:relative}.galleryRow .messageImg .img[data-v-8a7a405a]{display:block;border-radius:.5em;position:relative;max-width:100%}.galleryRow .messageImg .loadingImg[data-v-8a7a405a]{display:flex;align-items:center;justify-content:center;border-radius:.5em;position:relative;max-width:300px;height:250px}.galleryRow .messageImg .loadingImg .imgPreview[data-v-8a7a405a]{border-radius:.5em;position:relative;max-width:100%;height:100%;opacity:.6}.galleryRow .messageImg .loadingImg .clipLoader[data-v-8a7a405a]{position:absolute;z-index:9999;left:50%;right:0;top:50%;bottom:0;transform:translate(-50,50);display:flex;align-items:center;justify-content:center}.galleryRow .messageImg .imgMsg img[data-v-8a7a405a]{max-width:100%;-o-object-fit:cover;object-fit:cover;border-radius:1em;display:block}.galleryRow .messageImg .metaLink[data-v-8a7a405a]{background:#000}.galleryRow .messageImg .metaLink .metaMessageLink .metaTitle[data-v-8a7a405a]{font-weight:700;font-size:.9em}.galleryRow .messageImg .metaLink .metaMessageLink .metaDescription[data-v-8a7a405a]{margin:.5em 0;font-size:.8em}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper[data-v-8a7a405a]{display:block;max-width:300px;-o-object-fit:cover;object-fit:cover}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper img[data-v-8a7a405a]{display:block;width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".typingBlock{position:relative}.typingBlock .typingBlockWrapper{position:absolute;left:50%;transform:translateX(-50%);top:-5px;display:flex;align-items:center}.typingBlock .typingBlockWrapper>div{padding:0 .5em}.typingBlock .typingBlockWrapper span{font-size:.7em;color:rgb(var(--neutral-grad-3));opacity:.8}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n\t\tbin: _vm.pocketnet,\n\t\tbout: !_vm.pocketnet,\n\t\tminimized: _vm.minimized,\n\t\tfix: _vm.pocketnet,\n\t\tactive: _vm.active,\n\t},attrs:{\"id\":\"chatList\"}},[_c('div',{ref:\"work\",staticClass:\"work\"},[_c('div',{ref:\"events\",staticClass:\"timeLineWrapper\"},[(_vm.timeline)?_c('events',{ref:\"eventslist\",attrs:{\"error\":_vm.error,\"timeline\":_vm.timeline,\"events\":_vm.events,\"chat\":_vm.chat,\"loading\":_vm.lloading,\"scrollType\":_vm.scrollType,\"selectedMessages\":_vm.selectedMessages},on:{\"updated\":_vm.updatedSize,\"scroll\":_vm.scrollE,\"removeEvent\":_vm.removeEvent,\"editingEvent\":_vm.editingEvent,\"replyEvent\":_vm.replyEvent,\"galleryEventOpen\":(e) => _vm.imageGallery(e),\"menuIsVisible\":_vm.menuIsVisibleHandler,\"toreference\":_vm.scrollToEvent}}):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"maskedtop\",class:{\n\t\tmobile: _vm.mobile,\n\t\tios: _vm.ios,\n\t\tmenuOpen: _vm.menuOpen,\n\t\timagesList: this.scrollType === 'custom' ? 'imagesList' : '',\n\t},attrs:{\"id\":\"events\"}},[_c('div',{ref:\"container\",staticClass:\"eventsflex\",class:{ mobile: _vm.mobile, ios: _vm.ios, menuOpen: _vm.menuOpen },on:{\"wheel\":_vm.mousewheel,\"scroll\":_vm.dscroll}},[_c('div',{staticClass:\"ewr\"},[(_vm.stringifyiedError)?_c('div',{staticClass:\"errorWrapper\"},[_c('div',{staticClass:\"error\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"sendingerror\")))]),_c('div',{staticClass:\"btnwrp\"},[_c('button',{staticClass:\"button small\",on:{\"click\":_vm.showerror}},[_vm._v(\" \"+_vm._s(_vm.$t(\"details\"))+\" \")])])])]):_vm._e(),_vm._l((_vm.events),function(event,i){return _c('div',{key:event.event.event_id,ref:event.event.event_id,refInFor:true,staticClass:\"eventWrapper\",attrs:{\"event\":event.event.event_id}},[_c('eventsEvent',{attrs:{\"event\":event,\"prevevent\":_vm.events[i + 1],\"galleryData\":_vm.events,\"chat\":_vm.chat,\"timeline\":_vm.timeline,\"last\":i == 0,\"multiSelect\":_vm.multiSelect,\"selectedMessages\":_vm.selectedMessages,\"isRemoveSelectedMessages\":_vm.isRemoveSelectedMessages},on:{\"showMultiSelect\":_vm.showMultiSelect,\"selectMessage\":_vm.selectMessage,\"removeMessage\":_vm.removeMessage,\"openImageEvent\":(e) => _vm.galleryOpen(e),\"removeEvent\":(e) => _vm.removeEvent(event),\"editing\":(text) => _vm.editingEvent({ event, text }),\"reply\":(e) => _vm.replyEvent({ event }),\"mounted\":_vm.emounted,\"menuIsVisible\":_vm.menuIsVisibleHandler,\"messagesIsDeleted\":_vm.messagesIsDeleted,\"toreference\":_vm.toreference}})],1)})],2),(_vm.loading)?_c('div',{staticClass:\"preloadingWrapper\"},[_c('linepreloader')],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scrollbottomshow),expression:\"scrollbottomshow\"}],staticClass:\"scrollbottom\",on:{\"click\":_vm.scrolldown}},[_c('i',{staticClass:\"fas fa-chevron-down\"})])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from \"vuex\";\r\nimport f from \"@/application/functions\";\r\n\r\nexport default {\r\n\tname: \"events\",\r\n\tprops: {\r\n\t\ttimeline: Object,\r\n\t\tevents: Array,\r\n\t\tchat: Object,\r\n\t\tloading: Boolean,\r\n\t\tscrollType: \"\",\r\n\t\terror: [Object, Error, String],\r\n\t\tselectedMessages: [],\r\n\t\tisRemoveSelectedMessages: false,\r\n\t},\r\n\tinject: [\"matches\"],\r\n\tcomponents: {},\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\ttype: \"\",\r\n\t\t\ttmt: null,\r\n\t\t\tlscroll: null,\r\n\t\t\tmenuOpen: false,\r\n\t\t\tc: 1,\r\n\t\t\tls: 0,\r\n\t\t\tvoiceMessageQueue: [],\r\n\t\t\tcountshow: 0,\r\n\t\t\tmultiSelect: false,\r\n\t\t};\r\n\t},\r\n\tprovide() {\r\n\t\treturn {\r\n\t\t\taddToQueue: (message, id) => {\r\n\t\t\t\tvar f = _.find(this.voiceMessageQueue, (v) => {\r\n\t\t\t\t\treturn v.id == id;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!f)\r\n\t\t\t\t\tthis.voiceMessageQueue = [...this.voiceMessageQueue, { message, id }];\r\n\t\t\t},\r\n\t\t\tplayNext: (id) => {\r\n\t\t\t\tlet current = this.sortedVoiceMessageQueue.findIndex((i) => {\r\n\t\t\t\t\treturn i.id === id;\r\n\t\t\t\t});\r\n\t\t\t\tlet next =\r\n\t\t\t\t\tcurrent === -1 ? null : this.sortedVoiceMessageQueue[current + 1];\r\n\t\t\t\tif (next) {\r\n\t\t\t\t\tnext.message.setTime(0);\r\n\t\t\t\t\tnext.message.play();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\r\n\twatch: {\r\n\t\tevents: function () { },\r\n\r\n\t\tselectedMessages: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler: function () {\r\n\t\t\t\tif (this.selectedMessages.length === 0) {\r\n\t\t\t\t\tthis.multiSelect = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tnotificationCount: function () {\r\n\t\t\tif (\r\n\t\t\t\tthis.lscroll &&\r\n\t\t\t\tthis.lscroll.scrollTop < 180 &&\r\n\t\t\t\tthis.chat &&\r\n\t\t\t\tthis.chat.getUnreadNotificationCount()\r\n\t\t\t) {\r\n\t\t\t\tthis.scrollToNew();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\tsortedVoiceMessageQueue() {\r\n\t\t\treturn _.sortBy(this.voiceMessageQueue, (a) => {\r\n\t\t\t\treturn a.id;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tios() {\r\n\t\t\treturn f.isios();\r\n\t\t},\r\n\r\n\t\t...mapState({\r\n\t\t\tauth: (state) => state.auth,\r\n\t\t\tmobile: (state) => state.mobile,\r\n\t\t\tscrollbottomshow: function () {\r\n\t\t\t\treturn this.lscroll && this.lscroll.scrollTop > 500;\r\n\t\t\t},\r\n\t\t\tminimized: (state) => state.minimized,\r\n\t\t\tnotificationCount: (state) => state.allnotifications,\r\n\t\t}),\r\n\r\n\t\teventsByPages: function () {\r\n\t\t\tvar ps = [];\r\n\t\t\tvar pc = 0;\r\n\r\n\t\t\t_.each(this.events, function (e) {\r\n\t\t\t\tif (!pc) ps.push([]);\r\n\r\n\t\t\t\tps[ps.length - 1].push(e);\r\n\r\n\t\t\t\tpc++;\r\n\r\n\t\t\t\tif (pc > 19) pc = 0;\r\n\t\t\t});\r\n\r\n\t\t\treturn ps;\r\n\t\t},\r\n\r\n\t\tstringifyiedError: function () {\r\n\t\t\treturn f.stringify(this.error);\r\n\t\t},\r\n\t},\r\n\tdestroyed: function () {\r\n\t\tthis.core.menu(null);\r\n\t},\r\n\tupdated: function () {\r\n\t\t/*if(this.countshow === 0) {\r\n\t  this.scrollToReadMessages();\r\n\t}\r\n\tthis.countshow = 1;*/\r\n\t},\r\n\tmethods: {\r\n\t\tscrollToReadMessages: function () {\r\n\t\t\t/*if(this.notificationCount > 0) {\r\n\t\tconst elem = document.getElementById(\"eventWrapper_\" + (this.notificationCount + 1));\r\n\r\n\t\tif(elem)\r\n\t\t  elem.scrollIntoView()\r\n\t  }*/\r\n\t\t},\r\n\t\tshareEvent: function ({ event }) {\r\n\t\t\tthis.$emit(\"shareEvent\", { event });\r\n\t\t},\r\n\t\tshowerror: function () {\r\n\t\t\t// stringifyiedError\r\n\r\n\t\t\treturn this.$dialog\r\n\t\t\t\t.alert(this.stringifyiedError, {\r\n\t\t\t\t\tokText: \"Ok\",\r\n\t\t\t\t\tbackdropClose: true,\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => { });\r\n\t\t},\r\n\r\n\t\tdupdated: _.debounce(function () {\r\n\t\t\tthis.$emit(\"updated\", this.size());\r\n\t\t}, 75),\r\n\r\n\t\tdscroll: _.debounce(function () {\r\n\t\t\treturn this.scroll();\r\n\t\t}, 35),\r\n\r\n\t\tddscroll: function (e) {\r\n\t\t\t/*var _ls = this.$refs['container'].scrollTop\r\n\r\n\t\t\tif (Math.abs(_ls - this.ls) > 500 && this.c * _ls < this.c * this.ls){\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.ls = _ls\r\n\t\t\t}*/\r\n\r\n\t\t\tthis.dscroll();\r\n\t\t},\r\n\r\n\t\temounted: function () {\r\n\t\t\tthis.$nextTick(function () {\r\n\t\t\t\tthis.scrollCorrection();\r\n\t\t\t\tthis.dupdated();\r\n\t\t\t});\r\n\t\t},\r\n\t\tscroll: function () {\r\n\t\t\tthis.$emit(\"scroll\", this.size());\r\n\t\t},\r\n\r\n\t\tsize: function () {\r\n\t\t\tvar s = {\r\n\t\t\t\tscrollHeight: 0,\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tclientHeight: 0,\r\n\t\t\t};\r\n\r\n\t\t\tif (this.$refs[\"container\"]) {\r\n\t\t\t\ts.scrollHeight = this.$refs[\"container\"].scrollHeight;\r\n\t\t\t\ts.scrollTop = this.c * this.$refs[\"container\"].scrollTop;\r\n\t\t\t\ts.clientHeight = this.$refs[\"container\"].clientHeight;\r\n\t\t\t}\r\n\r\n\t\t\tthis.lscroll = s;\r\n\r\n\t\t\treturn s;\r\n\t\t},\r\n\r\n\t\teditingEvent: function ({ event, text }) {\r\n\t\t\tthis.$emit(\"editingEvent\", { event, text });\r\n\t\t},\r\n\r\n\t\treplyEvent: function ({ event }) {\r\n\t\t\tthis.$emit(\"replyEvent\", { event });\r\n\t\t},\r\n\r\n\t\tremoveEvent: function (event) {\r\n\t\t\tthis.$emit(\"removeEvent\", event);\r\n\t\t},\r\n\r\n\t\tshowPhotoSwipe(index) {\r\n\t\t\tthis.isOpen = true;\r\n\t\t\tthis.$set(this.options, \"index\", index);\r\n\t\t},\r\n\r\n\t\thidePhotoSwipe() {\r\n\t\t\tthis.isOpen = false;\r\n\t\t},\r\n\r\n\t\tgalleryOpen(e) {\r\n\t\t\tthis.$emit(\"galleryEventOpen\", e);\r\n\t\t},\r\n\r\n\t\tscrolldown() {\r\n\t\t\tthis.scrollToNew(0);\r\n\t\t},\r\n\r\n\t\tscrollCorrection() {\r\n\t\t\t//this.scrollToNew(this.c * this.ls)\r\n\t\t},\r\n\t\tscrollToNew(s) {\r\n\t\t\tif (this.$refs[\"container\"]) {\r\n\t\t\t\tthis.$refs[\"container\"].scrollTop = this.c * s;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscrollToEvent(e) {\r\n\t\t\tif (this.$refs[e.event.event_id]){\r\n\t\t\t\tvar r_element = this.$refs[e.event.event_id][0]\r\n\t\t\t\tthis.scrollToNew(r_element.offsetTop - this.lscroll.clientHeight / 2 + r_element.clientHeight / 2)\r\n\t\t\t\t\r\n\t\t\t\tr_element.classList.add('attention')\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tr_element.classList.remove('attention')\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t\t//this.scrollToNew(120);\r\n\t\t},\r\n\r\n\t\tmenuIsVisibleHandler: function (isVisible) {\r\n\t\t\tthis.menuOpen = isVisible;\r\n\t\t\tthis.$emit(\"menuIsVisible\", isVisible);\r\n\t\t},\r\n\r\n\t\tmousewheel: function (e) {\r\n\t\t\tif (this.scrollType === \"custom\") {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.$refs[\"container\"].scrollTop += -e.deltaY;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowMultiSelect() {\r\n\t\t\tthis.multiSelect = true;\r\n\t\t},\r\n\t\tselectMessage(message) {\r\n\t\t\tif (\r\n\t\t\t\tthis.selectedMessages.filter(\r\n\t\t\t\t\t(item) => item.message_id === message.message_id\r\n\t\t\t\t).length === 0\r\n\t\t\t) {\r\n\t\t\t\tthis.selectedMessages.push(message);\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveMessage(message) {\r\n\t\t\tconst index = this.selectedMessages.findIndex(\r\n\t\t\t\t(item) => item.message_id === message.message_id\r\n\t\t\t);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.selectedMessages.splice(index, 1);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmessagesIsDeleted(state) {\r\n\t\t\tthis.$emit(\"messagesIsDeleted\", state);\r\n\t\t},\r\n\r\n\t\ttoreference(reference) {\r\n\r\n\t\t\tthis.$emit(\"toreference\", reference);\r\n\t\t},\r\n\t},\r\n};\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8a7a405a&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=8a7a405a&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"8a7a405a\",\n  null\n  ,true\n)\n\nexport default component.exports","import { mapState } from \"vuex\";\r\n\r\nimport events from \"@/components/events/list/index.vue\";\r\nimport time from \"../../chats/assets/time\";\r\nimport f from \"@/application/functions\";\r\n\r\nexport default {\r\n\tname: \"chatList\",\r\n\tprops: {\r\n\t\tchat: Object,\r\n\t\tfilterType: String,\r\n\t\terror: [Object, Error, String],\r\n\t\tselectedMessages: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\r\n\tcomponents: {\r\n\t\tevents,\r\n\t},\r\n\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tencryptedEvents: [],\r\n\t\t\tloading: false,\r\n\t\t\tscrolling: false,\r\n\t\t\tscrollingTo: 0,\r\n\t\t\tcancelNextScroll: false,\r\n\t\t\ttimeline: null,\r\n\t\t\tlastEvent: {},\r\n\t\t\tscrollType: String,\r\n\t\t\tesize: {},\r\n\t\t\tp_b: false,\r\n\t\t\tp_f: false,\r\n\r\n\t\t\tupdateTimeout: null,\r\n\t\t\tupdateInterval: null,\r\n\t\t\tevents: [],\r\n\t\t\tfirstPaginate: true,\r\n\t\t\treadPromise : null\r\n\t\t};\r\n\t},\r\n\r\n\tmounted: function () {\r\n\t\tthis.init();\r\n\r\n\t\tif (this.chat) {\r\n\t\t\t// this.readAll()\r\n\t\t}\r\n\t},\r\n\r\n\twatch: {\r\n\t\t//$route: 'getdata'\r\n\r\n\t\tactive: function () {\r\n\t\t\t// if(this.minimized && !this.active){\r\n\t\t\t//   this.scrollToNew(0)\r\n\t\t\t// }\r\n\t\t\t// if(this.minimized && this.active){\r\n\t\t\t//   this.readAll();\r\n\t\t\t// }\r\n\t\t},\r\n\t},\r\n\tcomputed: mapState({\r\n\t\tlloading: function () {\r\n\t\t\treturn this.loading || this[\"p_f\"] || this[\"p_b\"];\r\n\t\t},\r\n\r\n\t\tauth: (state) => state.auth,\r\n\r\n\t\tsettings_read: (state) => !state.dontreadreceipts,\r\n\r\n\t\teventsTypes: function () {\r\n\t\t\tvar types = {\r\n\t\t\t\t\"m.room.message\": true,\r\n\t\t\t\t\"p.room.encrypt.message\": true,\r\n\t\t\t\t\"p.room.\": true,\r\n\t\t\t\t\"m.room.image\": true,\r\n\t\t\t\t\"m.room.audio\": true,\r\n\t\t\t\t\"m.room.file\": true,\r\n\t\t\t\t\"m.call.invite\": true,\r\n\t\t\t\t\"m.room.request_calls_access\": true,\r\n\t\t\t\t\"m.call.hangup\": true,\r\n\t\t\t\t\"m.call.reject\": true,\r\n\t\t\t\t\"m.fully_read\": true,\r\n\t\t\t};\r\n\r\n\t\t\tif (\r\n\t\t\t\t_.toArray((this.chat && this.chat.currentState.members) || {}).length >\r\n\t\t\t\t2\r\n\t\t\t) {\r\n\t\t\t\ttypes[\"m.room.member\"] = true;\r\n\t\t\t\ttypes[\"m.room.power_levels\"] = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn types;\r\n\t\t},\r\n\r\n\t\tpocketnet: (state) => state.pocketnet,\r\n\t\tminimized: (state) => state.minimized,\r\n\t\tactive: (state) => state.active,\r\n\r\n\t\tbin: function (state) {\r\n\t\t\treturn state.pocketnet;\r\n\t\t},\r\n\t}),\r\n\r\n\tcreated() {\r\n\t\tthis.updateInterval = setInterval(this.update, 300);\r\n\t},\r\n\tdestroyed() {\r\n\t\tif (this.timeline) {\r\n\t\t\tthis.timeline.unpaginate(this.timeline._eventCount, true);\r\n\t\t}\r\n\r\n\t\tclearInterval(this.updateInterval);\r\n\t},\r\n\r\n\tmethods: {\r\n\t\teditingEvent: function ({ event, text }) {\r\n\t\t\tthis.$emit(\"editingEvent\", { event, text });\r\n\t\t},\r\n\t\treplyEvent: function ({ event }) {\r\n\t\t\tthis.$emit(\"replyEvent\", { event });\r\n\t\t},\r\n\r\n\t\tremoveEvent: function (event) {\r\n\t\t\tthis.chat.getLiveTimeline().removeEvent(event.event.event_id);\r\n\t\t},\r\n\t\twh: function () {\r\n\t\t\tif (this.esize.clientHeight) return this.esize.clientHeight;\r\n\t\t},\r\n\t\tgetEvents: function () {\r\n\t\t\tvar events = this.timeline.getEvents();\r\n\r\n\t\t\tvar lastCallAccess = events\r\n\t\t\t\t.filter((e) => {\r\n\t\t\t\t\treturn e.event.type === \"m.room.request_calls_access\";\r\n\t\t\t\t})\r\n\t\t\t\t.pop();\r\n\r\n\t\t\tevents = _.filter(events, (e) => {\r\n\t\t\t\tvar type = e.event.type;\r\n\r\n\t\t\t\tif (e.localRedactionEvent() || e.getRedactionEvent()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.event.type === \"m.room.request_calls_access\") {\r\n\t\t\t\t\tif (e.event.event_id === lastCallAccess.event.event_id) {\r\n\t\t\t\t\t\tif (e.event.content.accepted !== undefined) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this.core.mtrx.me(e.event.sender)) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\te.event.type === \"m.room.power_levels\" &&\r\n\t\t\t\t\tObject.keys(e.event.content.users).length === 1\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.chat.currentState.getMembers().length <= 2 &&\r\n\t\t\t\t\te.event.type === \"m.room.member\" &&\r\n\t\t\t\t\t\"m.room.power_levels\"\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\treturn !this.eventsTypes || this.eventsTypes[type];\r\n\t\t\t});\r\n\r\n\t\t\tevents = events.reverse();\r\n\r\n\t\t\tthis.relations(events);\r\n\r\n\t\t\tevents = _.sortBy(events, function (e) {\r\n\t\t\t\treturn e.replacingEventDate() || e.getDate() || Infinity;\r\n\t\t\t});\r\n\r\n\t\t\tevents = events.reverse();\r\n\r\n\t\t\tevents = _.uniq(events, (e) => {\r\n\t\t\t\treturn this.core.mtrx.clearEventId(e) || f.makeid();\r\n\t\t\t});\r\n\r\n\t\t\tevents = _.sortBy(events, function (e) {\r\n\t\t\t\treturn e.getDate() || Infinity;\r\n\t\t\t});\r\n\r\n\t\t\tevents = events.reverse();\r\n\r\n\t\t\tthis.$emit(\"getEvents\", events);\r\n\t\t\t// events = _.filter(events, function (e) {\r\n\t\t\t//   return e.ty\r\n\t\t\t// })\r\n\r\n\t\t\treturn events;\r\n\t\t},\r\n\r\n\t\tgetEventsAndEncrypt: function () {\r\n\t\t\tvar events = this.getEvents();\r\n\r\n\t\t\treturn Promise.all(\r\n\t\t\t\t_.map(events, (e) => {\r\n\t\t\t\t\tif (!this.chat.pcrypto) return Promise.resolve();\r\n\r\n\t\t\t\t\tif (e.event.decrypted) return Promise.resolve();\r\n\r\n\t\t\t\t\tvar pr = null;\r\n\t\t\t\t\tvar subtype = f.deep(e, \"event.content.msgtype\");\r\n\r\n\t\t\t\t\t//if(f.deep(e, 'event.content.msgtype') != 'm.encrypted') return Promise.resolve()\r\n\r\n\t\t\t\t\tvar einfo =\r\n\t\t\t\t\t\tf.deep(e, \"event.content.info.secrets\") ||\r\n\t\t\t\t\t\tf.deep(e, \"event.content.pbody.secrets\");\r\n\r\n\t\t\t\t\tif (einfo) {\r\n\t\t\t\t\t\tif (subtype == \"m.image\") {\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (subtype == \"m.audio\") {\r\n\t\t\t\t\t\t\tpr = this.core.mtrx.getAudio(this.chat, e).catch((error) => {\r\n\t\t\t\t\t\t\t\tconsole.error(error);\r\n\r\n\t\t\t\t\t\t\t\te.event.decrypted = {\r\n\t\t\t\t\t\t\t\t\tmsgtype: \"m.bad.encrypted\",\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (subtype == \"m.encrypted\") {\r\n\t\t\t\t\t\t\tpr = this.chat.pcrypto\r\n\t\t\t\t\t\t\t\t.decryptEvent(e.event)\r\n\t\t\t\t\t\t\t\t.then((d) => {\r\n\t\t\t\t\t\t\t\t\te.event.decrypted = d;\r\n\r\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\t\t\t\te.event.decrypted = {\r\n\t\t\t\t\t\t\t\t\t\tmsgtype: \"m.bad.encrypted\",\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (subtype == \"m.audio\") {\r\n\t\t\t\t\t\t\tpr = this.core.mtrx.getAudioUnencrypt(this.chat, e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!pr) return Promise.resolve();\r\n\r\n\t\t\t\t\treturn pr.catch((e) => {\r\n\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t).then(() => {\r\n\t\t\t\treturn Promise.resolve(events);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\trelations: function (events) {\r\n\t\t\tvar ts = this.timeline._timelineSet;\r\n\r\n\t\t\t_.each(events, (e) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//if(!e.event.content.edited){\r\n\t\t\t\t\tvar rt = ts.getRelationsForEvent(\r\n\t\t\t\t\t\te.event.event_id,\r\n\t\t\t\t\t\t\"m.replace\",\r\n\t\t\t\t\t\t\"m.room.message\"\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (rt) {\r\n\t\t\t\t\t\tvar last = rt.getLastReplacement();\r\n\r\n\t\t\t\t\t\tif (last) {\r\n\t\t\t\t\t\t\te.event.content.body = last.event.content.body;\r\n\t\t\t\t\t\t\te.event.content.edited = last.event.event_id;\r\n\t\t\t\t\t\t\te.event.content.block = last.event.content.block;\r\n\t\t\t\t\t\t\te.event.content.msgtype = last.event.content.msgtype;\r\n\t\t\t\t\t\t\te.event.decrypted = last.event.decrypted;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmediaTimelineSet: async function () {\r\n\t\t\tvar filter = new this.core.mtrx.sdk.Filter(client.getUserId());\r\n\r\n\t\t\tfilter.setDefinition({\r\n\t\t\t\troom: {\r\n\t\t\t\t\ttimeline: {\r\n\t\t\t\t\t\tcontains_url: true,\r\n\t\t\t\t\t\ttypes: [\"m.room.message\"],\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tfilter.filterId = await this.core.mtrx.client.getOrCreateFilter(\r\n\t\t\t\t\"FILTER_FILES_\" + this.core.mtrx.client.credentials.userId,\r\n\t\t\t\tfilter\r\n\t\t\t);\r\n\r\n\t\t\treturn this.chat.getOrCreateFilteredTimelineSet(filter);\r\n\t\t},\r\n\t\tinit: async function () {\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.firstPaginate = true;\r\n\r\n\t\t\tconsole.log('this.chat', this.chat)\r\n\r\n\t\t\t//this.chat.getTimelineForEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s')\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tconsole.log('timeline', timeline)\r\n\t\t\t\r\n\t\t\t//this.chat.getTimelineForEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s')\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//this.chat.getLiveTimeline();\r\n\r\n\t\t\tvar ts;\r\n\r\n\t\t\tif (this.filterType === \"images\") {\r\n\t\t\t\tthis.scrollType = \"custom\";\r\n\t\t\t\tts = await this.mediaTimelineSet();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar timeline = this.chat.getLiveTimeline();\r\n\r\n\t\t\t\tts = timeline.getTimelineSet();\r\n\t\t\t}\r\n\r\n\t\t\tthis.timeline = new this.core.mtrx.sdk.TimelineWindow(\r\n\t\t\t\tthis.core.mtrx.client,\r\n\t\t\t\tts\r\n\t\t\t);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.timeline\r\n\t\t\t\t\t.load(/*null, (this.wh() || 600)*/)\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\treturn this.getEventsAndEncrypt();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((events) => {\r\n\t\t\t\t\t\tthis.events = events;\r\n\r\n\t\t\t\t\t\tthis.loading = false;\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.autoPaginateAll();\r\n\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t});\r\n\t\t\t}, 30);\r\n\r\n\t\t\t/*setTimeout(() => {\r\n\t\t\t\tthis.paginateToEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s').then(event => {\r\n\t\t\t\t\tconsole.log(\"TOEVENT\", event)\r\n\t\t\t\t})\r\n\t\t\t}, 1000)*/\r\n\t\t},\r\n\r\n\t\tpaginateToEvent: function(event_id){\r\n\t\t\tvar event = _.find(this.events, (e) => {\r\n\t\t\t\treturn e.event.event_id == event_id\r\n\t\t\t})\r\n\r\n\t\t\tif (event){\r\n\t\t\t\treturn Promise.resolve(event)\r\n\t\t\t}\r\n\r\n\t\t\telse{\r\n\t\t\t\tvar promise = this.paginate('b')\r\n\r\n\t\t\t\tif (promise){\r\n\t\t\t\t\treturn promise.then(() => {\r\n\t\t\t\t\t\treturn this.paginateToEvent(event_id)\r\n\t\t\t\t\t}).catch(e => {\r\n\t\t\t\t\t\tif(!event) return Promise.resolve(null)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(!event) return Promise.resolve(null)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tautoPaginate: function (direction) {\r\n\t\t\tif (this.needLoad(direction)) {\r\n\t\t\t\tvar pr = this.paginate(direction)\r\n\r\n\t\t\t\tif (pr) pr.catch(e => {})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpaginate: function (direction, rnd) {\r\n\t\t\t//$(this.$el).find('.eventsflex')[0]\r\n\r\n\t\t\tif (!this.loading && this.timeline && !this[\"p_\" + direction]) {\r\n\t\t\t\tif (this.timeline.canPaginate(direction) || rnd) {\r\n\t\t\t\t\tthis[\"p_\" + direction] = true;\r\n\r\n\t\t\t\t\tlet count = /*this.firstPaginate ? 24 : */ 20;\r\n\r\n\t\t\t\t\tvar error = null\r\n\r\n\t\t\t\t\treturn this.timeline\r\n\t\t\t\t\t\t.paginate(direction, count)\r\n\t\t\t\t\t\t.then((e) => {\r\n\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\t\terror = e\r\n\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\t\treturn this.getEventsAndEncrypt();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((events) => {\r\n\t\t\t\t\t\t\tthis.events = events;\r\n\r\n\t\t\t\t\t\t\tthis.firstPaginate = false;\r\n\r\n\t\t\t\t\t\t\tthis[\"p_\" + direction] = false;\r\n\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\tif(e) return Promise.reject(e)\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.readAll();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tautoPaginateAll: function () {\r\n\t\t\tif (this.filterType === \"images\") {\r\n\t\t\t\tthis.autoPaginate(\"b\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.autoPaginate(\"b\");\r\n\t\t\t\tthis.autoPaginate(\"f\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tneedLoad: function (direction) {\r\n\t\t\tvar r = false;\r\n\r\n\t\t\tvar scrollHeight = this.esize.scrollHeight || 0;\r\n\t\t\tvar scrollTop = this.esize.scrollTop || 0;\r\n\t\t\tvar clientHeight = Math.max(this.esize.clientHeight || 0, 800);\r\n\r\n\t\t\tif (direction == \"b\") {\r\n\t\t\t\tvar safespace = clientHeight;\r\n\r\n\t\t\t\tif (scrollHeight - scrollTop < clientHeight + safespace) r = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (scrollTop < clientHeight) r = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\treadEvent: function (event) {\r\n\t\t\tvar byme = this.core.mtrx.me(event.event.sender);\r\n\r\n\t\t\tif (byme) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.core.mtrx.client.sendReadReceipt(event);\r\n\t\t},\r\n\r\n\t\treadFirst: function () {\r\n\t\t\tvar events = this.timeline.getEvents();\r\n\r\n\t\t\tthis.readEvent(events[0]);\r\n\t\t},\r\n\r\n\t\treadLast: function () {\r\n\t\t\tvar events = this.timeline.getEvents();\r\n\r\n\t\t\tconsole.log(events);\r\n\t\t\tthis.readEvent(events[events.length - 1]);\r\n\t\t},\r\n\r\n\t\treadEvents: function (events) {\r\n\t\t\t_.each(events, (e) => {\r\n\t\t\t\tthis.readEvent(e);\r\n\t\t\t});\r\n\t\t},\r\n\t\treadOne() {\r\n\t\t\tthis.core.mtrx\r\n\t\t\t\t.client(this.chat.timeline[this.chat.timeline.length - 1])\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tdebouncedReadAll : _.debounce(function(){\r\n\r\n\t\t\tif (!this.chat) return;\r\n\t\t\tif (this.readPromise) return\r\n\r\n\t\t\tvar i = this.chat.timeline.length - 1;\r\n\t\t\tvar event = null;\r\n\r\n\t\t\tconsole.log('debouncedReadAll', this.chat.timeline)\r\n\r\n\t\t\tevent = this.chat.timeline[i]\r\n\r\n\t\t\t/*while (i >= 0 && !event) {\r\n\t\t\t\tvar e = this.chat.timeline[i];\r\n\r\n\t\t\t\tvar type = (e.event.type || \"\")\r\n\r\n\t\t\t\tif (type.indexOf('m.call') > -1){\r\n\t\t\t\t\tif(type.indexOf('candidates') > -1 ) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(e.readed) return\r\n\r\n\t\t\t\tif (!this.core.mtrx.me(e.sender.userId)) {\r\n\r\n\t\t\t\t\tif(!this.core.mtrx.isReaded(e)){\r\n\t\t\t\t\t\tevent = e;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\ti--;\r\n\t\t\t}*/\r\n\r\n\t\t\tconsole.log('event', event)\r\n\r\n\t\t\tif (event) {\r\n\r\n\t\t\t\tif (event.readError){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar eid = event.event.event_id\r\n\r\n\t\t\t\tthis.readPromise = this.core.mtrx.client\r\n\t\t\t\t\t.setRoomReadMarkers(this.chat.currentState.roomId, eid, event, {\r\n\t\t\t\t\t\thidden: !this.settings_read ? true : false,\r\n\t\t\t\t\t}).then((r) => {\r\n\t\t\t\t\t\tevent.readed = true\r\n\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t}).catch(e => {\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t\tevent.readError = e\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.finally(() => {\r\n\t\t\t\t\t\tthis.readPromise = null\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 100),\r\n\t\treadAll: function () {\r\n\t\t\tif (\r\n\t\t\t\tdocument.hasFocus() &&\r\n\t\t\t\t(!this.pocketnet || this.active) &&\r\n\t\t\t\t!this.core.hiddenInParent &&\r\n\t\t\t\tthis.chat &&\r\n\t\t\t\tthis.chat.getJoinedMemberCount() > 0 &&\r\n\t\t\t\tthis.chat.getUnreadNotificationCount() !== 0\r\n\t\t\t){\r\n\t\t\t\tthis.debouncedReadAll()\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t},\r\n\r\n\t\t//////////////\r\n\r\n\t\tscrollE: function (size) {\r\n\t\t\tthis.updatedSize(size);\r\n\t\t\tthis.$emit(\"scroll\", size);\r\n\t\t},\r\n\r\n\t\tupdatedSize: function (size) {\r\n\t\t\tthis.esize = size;\r\n\t\t},\r\n\r\n\t\tupdate: function (e) {\r\n\t\t\tif (!this.scrolling) {\r\n\t\t\t\tthis.autoPaginateAll();\r\n\t\t\t} else {\r\n\t\t\t\t// e.preventDefault()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscrollToNew: function (s) {\r\n\t\t\tthis.scrolling = true;\r\n\r\n\t\t\tthis.$refs.eventslist.scrollToNew(s);\r\n\r\n\t\t\tthis.scrolling = false;\r\n\t\t},\r\n\r\n\t\timageGallery: function (e) {\r\n\t\t\tthis.$emit(\"eventImage\", e);\r\n\t\t},\r\n\r\n\t\tmenuIsVisibleHandler: function (isVisible) {\r\n\t\t\tthis.$emit(\"menuIsVisible\", isVisible);\r\n\t\t},\r\n\r\n\t\tscrollToEvent: function(reference){\r\n\r\n\t\t\tthis.$store.state.globalpreloader = true;\r\n\r\n\t\t\tthis.paginateToEvent(reference.event.event_id).then(event => {\r\n\r\n\t\t\t\tif (event){\r\n\t\t\t\t\tthis.$refs.eventslist.scrollToEvent(event)\r\n\t\t\t\t}\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tthis.$store.state.globalpreloader = false;\r\n\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\r\n\t},\r\n};\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9711b96a&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=9711b96a&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"9711b96a\",\n  null\n  ,true\n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-9711b96a] .eventMember{text-align:left}[data-v-9711b96a] .eventMember span{font-size:.9em}.pswp img[data-v-9711b96a]{max-width:none;-o-object-fit:contain;object-fit:contain}#chatList.minimized:not(.active) .timeLineWrapper[data-v-9711b96a]{padding-left:.5em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=style&index=0&id=d22cd0ca&prod&lang=sass&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=9711b96a&prod&scoped=true&lang=sass&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=8a7a405a&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"065a83e8\", content, shadowRoot)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=8a7a405a&prod&scoped=true&lang=sass&\""],"sourceRoot":""}