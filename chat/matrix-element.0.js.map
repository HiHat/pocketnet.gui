{"version":3,"sources":["webpack:///./src/components/chats/assets/typing.vue?b633","webpack:///src/components/chats/assets/typing.vue","webpack:///./src/components/chats/assets/typing.vue?646f","webpack:///./src/components/chats/assets/typing.vue","webpack:///./src/components/chats/assets/typing.vue?a54c","webpack:///./src/components/events/list/index.sass?33df","webpack:///./src/components/chat/list/index.vue?2f0e","webpack:///./src/components/events/list/index.vue?a3bc","webpack:///./src/components/events/list/index.js","webpack:///./src/components/events/list","webpack:///./src/components/events/list/index.vue","webpack:///./src/components/chat/list/index.js","webpack:///./src/components/chat/list","webpack:///./src/components/chat/list/index.vue","webpack:///./src/components/chats/assets/typing.vue?1047","webpack:///./src/components/chat/list/index.sass","webpack:///./src/components/events/list/index.sass","webpack:///./src/components/chat/list/index.sass?d8a9","webpack:///./src/components/chats/assets/typing.vue?1da8","webpack:///./src/components/events/list/index.sass?0711","webpack:///./src/components/chat/list/index.sass?46ce"],"names":["name","props","components","PulseLoader","data","color","size","loading","methods","computed","timeline","Object","events","Array","chat","Boolean","scrollType","error","Error","String","selectedMessages","isRemoveSelectedMessages","inject","type","tmt","lscroll","menuOpen","c","ls","voiceMessageQueue","countshow","multiSelect","provide","addToQueue","message","id","f","_","find","v","playNext","current","sortedVoiceMessageQueue","findIndex","i","next","setTime","play","watch","immediate","handler","length","notificationCount","scrollTop","getUnreadNotificationCount","scrollToNew","sortBy","a","ios","isios","mapState","auth","state","mobile","scrollbottomshow","minimized","allnotifications","eventsByPages","ps","pc","each","e","push","stringifyiedError","stringify","destroyed","core","menu","updated","scrollToReadMessages","shareEvent","event","$emit","showerror","$dialog","alert","okText","backdropClose","catch","dupdated","debounce","dscroll","scroll","ddscroll","emounted","$nextTick","scrollCorrection","s","scrollHeight","clientHeight","$refs","editingEvent","text","replyEvent","removeEvent","showPhotoSwipe","index","isOpen","$set","options","hidePhotoSwipe","galleryOpen","scrolldown","scrollToEvent","event_id","r_element","offsetTop","classList","add","setTimeout","remove","menuIsVisibleHandler","isVisible","mousewheel","preventDefault","deltaY","showMultiSelect","selectMessage","filter","item","message_id","removeMessage","splice","messagesIsDeleted","toreference","reference","filterType","default","encryptedEvents","scrolling","scrollingTo","cancelNextScroll","lastEvent","esize","p_b","p_f","updateTimeout","updateInterval","firstPaginate","mounted","init","active","lloading","settings_read","dontreadreceipts","eventsTypes","types","toArray","currentState","members","pocketnet","bin","created","setInterval","update","unpaginate","_eventCount","clearInterval","getLiveTimeline","wh","getEvents","lastCallAccess","pop","localRedactionEvent","getRedactionEvent","content","accepted","undefined","mtrx","me","sender","keys","users","getMembers","reverse","relations","replacingEventDate","getDate","Infinity","uniq","clearEventId","makeid","getEventsAndEncrypt","Promise","all","map","pcrypto","resolve","decrypted","pr","subtype","deep","einfo","getAudio","console","msgtype","decryptEvent","then","d","getAudioUnencrypt","ts","_timelineSet","rt","getRelationsForEvent","last","getLastReplacement","body","edited","block","mediaTimelineSet","sdk","Filter","client","getUserId","setDefinition","room","contains_url","filterId","getOrCreateFilter","credentials","userId","getOrCreateFilteredTimelineSet","log","getTimelineSet","TimelineWindow","load","r","autoPaginateAll","paginateToEvent","promise","paginate","autoPaginate","direction","needLoad","rnd","canPaginate","count","reject","readAll","Math","max","safespace","readEvent","byme","sendReadReceipt","readFirst","readLast","readEvents","readOne","document","hasFocus","hiddenInParent","getJoinedMemberCount","setRoomReadMarkers","roomId","eventId","hidden","scrollE","updatedSize","eventslist","imageGallery","$store","globalpreloader","finally"],"mappings":"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","file":"matrix-element.0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"typingBlock\",staticStyle:{\"position\":\"relative\"}},[_c('div',{staticClass:\"typingBlockWrapper\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.$t(\"caption.typing\")))])]),_c('div',[_c('PulseLoader',{attrs:{\"color\":_vm.color,\"size\":_vm.size,\"loading\":true}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div style=\"position: relative\" class=\"typingBlock\">\r\n\t\t<div class=\"typingBlockWrapper\">\r\n\t\t\t<div>\r\n\t\t\t\t<span>{{ $t(\"caption.typing\") }}</span>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<PulseLoader :color=\"color\" :size=\"size\" :loading=\"true\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport PulseLoader from \"vue-spinner/src/PulseLoader.vue\";\r\n\r\nexport default {\r\n\tname: \"typing\",\r\n\r\n\tprops: {},\r\n\tcomponents: {\r\n\t\tPulseLoader,\r\n\t},\r\n\tdata: () => {\r\n\t\treturn {\r\n\t\t\tcolor: \"#868686\",\r\n\t\t\tsize: \"2px\",\r\n\t\t\tloading: true,\r\n\t\t};\r\n\t},\r\n\tmethods: {},\r\n\tcomputed: {},\r\n};\r\n</script>\r\n<style lang=\"sass\">\r\n\r\n.typingBlock\r\n  position: relative\r\n\r\n  .typingBlockWrapper\r\n    position: absolute\r\n    left: 50%\r\n    transform: translateX(-50%)\r\n    top: -5px\r\n    display: flex\r\n    align-items: center\r\n\r\n    >div\r\n      padding : 0 $r\r\n\r\n    span\r\n      font-size: 0.7em\r\n      color : srgb(--neutral-grad-3)\r\n      opacity: 0.8\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./typing.vue?vue&type=template&id=d22cd0ca&\"\nimport script from \"./typing.vue?vue&type=script&lang=js&\"\nexport * from \"./typing.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./typing.vue?vue&type=style&index=0&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  ,true\n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=8a7a405a&scoped=true&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n\t\tbin: _vm.pocketnet,\n\t\tbout: !_vm.pocketnet,\n\t\tminimized: _vm.minimized,\n\t\tfix: _vm.pocketnet,\n\t\tactive: _vm.active,\n\t},attrs:{\"id\":\"chatList\"}},[_c('div',{ref:\"work\",staticClass:\"work\"},[_c('div',{ref:\"events\",staticClass:\"timeLineWrapper\"},[(_vm.timeline)?_c('events',{ref:\"eventslist\",attrs:{\"error\":_vm.error,\"timeline\":_vm.timeline,\"events\":_vm.events,\"chat\":_vm.chat,\"loading\":_vm.lloading,\"scrollType\":_vm.scrollType,\"selectedMessages\":_vm.selectedMessages},on:{\"updated\":_vm.updatedSize,\"scroll\":_vm.scrollE,\"removeEvent\":_vm.removeEvent,\"editingEvent\":_vm.editingEvent,\"replyEvent\":_vm.replyEvent,\"galleryEventOpen\":function (e) { return _vm.imageGallery(e); },\"menuIsVisible\":_vm.menuIsVisibleHandler,\"toreference\":_vm.scrollToEvent}}):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"maskedtop\",class:{\n\t\tmobile: _vm.mobile,\n\t\tios: _vm.ios,\n\t\tmenuOpen: _vm.menuOpen,\n\t\timagesList: this.scrollType === 'custom' ? 'imagesList' : '',\n\t},attrs:{\"id\":\"events\"}},[_c('div',{ref:\"container\",staticClass:\"eventsflex\",class:{ mobile: _vm.mobile, ios: _vm.ios, menuOpen: _vm.menuOpen },on:{\"wheel\":_vm.mousewheel,\"scroll\":_vm.dscroll}},[_c('div',{staticClass:\"ewr\"},[(_vm.stringifyiedError)?_c('div',{staticClass:\"errorWrapper\"},[_c('div',{staticClass:\"error\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"sendingerror\")))]),_c('div',{staticClass:\"btnwrp\"},[_c('button',{staticClass:\"button small\",on:{\"click\":_vm.showerror}},[_vm._v(\" \"+_vm._s(_vm.$t(\"details\"))+\" \")])])])]):_vm._e(),_vm._l((_vm.events),function(event,i){return _c('div',{key:event.event.event_id,ref:event.event.event_id,refInFor:true,staticClass:\"eventWrapper\",attrs:{\"event\":event.event.event_id}},[_c('eventsEvent',{attrs:{\"event\":event,\"prevevent\":_vm.events[i + 1],\"galleryData\":_vm.events,\"chat\":_vm.chat,\"timeline\":_vm.timeline,\"last\":i == 0,\"multiSelect\":_vm.multiSelect,\"selectedMessages\":_vm.selectedMessages,\"isRemoveSelectedMessages\":_vm.isRemoveSelectedMessages},on:{\"showMultiSelect\":_vm.showMultiSelect,\"selectMessage\":_vm.selectMessage,\"removeMessage\":_vm.removeMessage,\"openImageEvent\":function (e) { return _vm.galleryOpen(e); },\"removeEvent\":function (e) { return _vm.removeEvent(event); },\"editing\":function (text) { return _vm.editingEvent({ event: event, text: text }); },\"reply\":function (e) { return _vm.replyEvent({ event: event }); },\"mounted\":_vm.emounted,\"menuIsVisible\":_vm.menuIsVisibleHandler,\"messagesIsDeleted\":_vm.messagesIsDeleted,\"toreference\":_vm.toreference}})],1)})],2),(_vm.loading)?_c('div',{staticClass:\"preloadingWrapper\"},[_c('linepreloader')],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scrollbottomshow),expression:\"scrollbottomshow\"}],staticClass:\"scrollbottom\",on:{\"click\":_vm.scrolldown}},[_c('i',{staticClass:\"fas fa-chevron-down\"})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from \"vuex\";\r\nimport f from \"@/application/functions\";\r\n\r\nexport default {\r\n\tname: \"events\",\r\n\tprops: {\r\n\t\ttimeline: Object,\r\n\t\tevents: Array,\r\n\t\tchat: Object,\r\n\t\tloading: Boolean,\r\n\t\tscrollType: \"\",\r\n\t\terror: [Object, Error, String],\r\n\t\tselectedMessages: [],\r\n\t\tisRemoveSelectedMessages: false,\r\n\t},\r\n\tinject: [\"matches\"],\r\n\tcomponents: {},\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\ttype: \"\",\r\n\t\t\ttmt: null,\r\n\t\t\tlscroll: null,\r\n\t\t\tmenuOpen: false,\r\n\t\t\tc: 1,\r\n\t\t\tls: 0,\r\n\t\t\tvoiceMessageQueue: [],\r\n\t\t\tcountshow: 0,\r\n\t\t\tmultiSelect: false,\r\n\t\t};\r\n\t},\r\n\tprovide() {\r\n\t\treturn {\r\n\t\t\taddToQueue: (message, id) => {\r\n\t\t\t\tvar f = _.find(this.voiceMessageQueue, (v) => {\r\n\t\t\t\t\treturn v.id == id;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!f)\r\n\t\t\t\t\tthis.voiceMessageQueue = [...this.voiceMessageQueue, { message, id }];\r\n\t\t\t},\r\n\t\t\tplayNext: (id) => {\r\n\t\t\t\tlet current = this.sortedVoiceMessageQueue.findIndex((i) => {\r\n\t\t\t\t\treturn i.id === id;\r\n\t\t\t\t});\r\n\t\t\t\tlet next =\r\n\t\t\t\t\tcurrent === -1 ? null : this.sortedVoiceMessageQueue[current + 1];\r\n\t\t\t\tif (next) {\r\n\t\t\t\t\tnext.message.setTime(0);\r\n\t\t\t\t\tnext.message.play();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t};\r\n\t},\r\n\r\n\twatch: {\r\n\t\tevents: function () { },\r\n\r\n\t\tselectedMessages: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler: function () {\r\n\t\t\t\tif (this.selectedMessages.length === 0) {\r\n\t\t\t\t\tthis.multiSelect = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tnotificationCount: function () {\r\n\t\t\tif (\r\n\t\t\t\tthis.lscroll &&\r\n\t\t\t\tthis.lscroll.scrollTop < 180 &&\r\n\t\t\t\tthis.chat &&\r\n\t\t\t\tthis.chat.getUnreadNotificationCount()\r\n\t\t\t) {\r\n\t\t\t\tthis.scrollToNew();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\tsortedVoiceMessageQueue() {\r\n\t\t\treturn _.sortBy(this.voiceMessageQueue, (a) => {\r\n\t\t\t\treturn a.id;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tios() {\r\n\t\t\treturn f.isios();\r\n\t\t},\r\n\r\n\t\t...mapState({\r\n\t\t\tauth: (state) => state.auth,\r\n\t\t\tmobile: (state) => state.mobile,\r\n\t\t\tscrollbottomshow: function () {\r\n\t\t\t\treturn this.lscroll && this.lscroll.scrollTop > 500;\r\n\t\t\t},\r\n\t\t\tminimized: (state) => state.minimized,\r\n\t\t\tnotificationCount: (state) => state.allnotifications,\r\n\t\t}),\r\n\r\n\t\teventsByPages: function () {\r\n\t\t\tvar ps = [];\r\n\t\t\tvar pc = 0;\r\n\r\n\t\t\t_.each(this.events, function (e) {\r\n\t\t\t\tif (!pc) ps.push([]);\r\n\r\n\t\t\t\tps[ps.length - 1].push(e);\r\n\r\n\t\t\t\tpc++;\r\n\r\n\t\t\t\tif (pc > 19) pc = 0;\r\n\t\t\t});\r\n\r\n\t\t\treturn ps;\r\n\t\t},\r\n\r\n\t\tstringifyiedError: function () {\r\n\t\t\treturn f.stringify(this.error);\r\n\t\t},\r\n\t},\r\n\tdestroyed: function () {\r\n\t\tthis.core.menu(null);\r\n\t},\r\n\tupdated: function () {\r\n\t\t/*if(this.countshow === 0) {\r\n\t  this.scrollToReadMessages();\r\n\t}\r\n\tthis.countshow = 1;*/\r\n\t},\r\n\tmethods: {\r\n\t\tscrollToReadMessages: function () {\r\n\t\t\t/*if(this.notificationCount > 0) {\r\n\t\tconst elem = document.getElementById(\"eventWrapper_\" + (this.notificationCount + 1));\r\n\r\n\t\tif(elem)\r\n\t\t  elem.scrollIntoView()\r\n\t  }*/\r\n\t\t},\r\n\t\tshareEvent: function ({ event }) {\r\n\t\t\tthis.$emit(\"shareEvent\", { event });\r\n\t\t},\r\n\t\tshowerror: function () {\r\n\t\t\t// stringifyiedError\r\n\r\n\t\t\treturn this.$dialog\r\n\t\t\t\t.alert(this.stringifyiedError, {\r\n\t\t\t\t\tokText: \"Ok\",\r\n\t\t\t\t\tbackdropClose: true,\r\n\t\t\t\t})\r\n\t\t\t\t.catch((e) => { });\r\n\t\t},\r\n\r\n\t\tdupdated: _.debounce(function () {\r\n\t\t\tthis.$emit(\"updated\", this.size());\r\n\t\t}, 75),\r\n\r\n\t\tdscroll: _.debounce(function () {\r\n\t\t\treturn this.scroll();\r\n\t\t}, 35),\r\n\r\n\t\tddscroll: function (e) {\r\n\t\t\t/*var _ls = this.$refs['container'].scrollTop\r\n\r\n\t\t\tif (Math.abs(_ls - this.ls) > 500 && this.c * _ls < this.c * this.ls){\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.ls = _ls\r\n\t\t\t}*/\r\n\r\n\t\t\tthis.dscroll();\r\n\t\t},\r\n\r\n\t\temounted: function () {\r\n\t\t\tthis.$nextTick(function () {\r\n\t\t\t\tthis.scrollCorrection();\r\n\t\t\t\tthis.dupdated();\r\n\t\t\t});\r\n\t\t},\r\n\t\tscroll: function () {\r\n\t\t\tthis.$emit(\"scroll\", this.size());\r\n\t\t},\r\n\r\n\t\tsize: function () {\r\n\t\t\tvar s = {\r\n\t\t\t\tscrollHeight: 0,\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tclientHeight: 0,\r\n\t\t\t};\r\n\r\n\t\t\tif (this.$refs[\"container\"]) {\r\n\t\t\t\ts.scrollHeight = this.$refs[\"container\"].scrollHeight;\r\n\t\t\t\ts.scrollTop = this.c * this.$refs[\"container\"].scrollTop;\r\n\t\t\t\ts.clientHeight = this.$refs[\"container\"].clientHeight;\r\n\t\t\t}\r\n\r\n\t\t\tthis.lscroll = s;\r\n\r\n\t\t\treturn s;\r\n\t\t},\r\n\r\n\t\teditingEvent: function ({ event, text }) {\r\n\t\t\tthis.$emit(\"editingEvent\", { event, text });\r\n\t\t},\r\n\r\n\t\treplyEvent: function ({ event }) {\r\n\t\t\tthis.$emit(\"replyEvent\", { event });\r\n\t\t},\r\n\r\n\t\tremoveEvent: function (event) {\r\n\t\t\tthis.$emit(\"removeEvent\", event);\r\n\t\t},\r\n\r\n\t\tshowPhotoSwipe(index) {\r\n\t\t\tthis.isOpen = true;\r\n\t\t\tthis.$set(this.options, \"index\", index);\r\n\t\t},\r\n\r\n\t\thidePhotoSwipe() {\r\n\t\t\tthis.isOpen = false;\r\n\t\t},\r\n\r\n\t\tgalleryOpen(e) {\r\n\t\t\tthis.$emit(\"galleryEventOpen\", e);\r\n\t\t},\r\n\r\n\t\tscrolldown() {\r\n\t\t\tthis.scrollToNew(0);\r\n\t\t},\r\n\r\n\t\tscrollCorrection() {\r\n\t\t\t//this.scrollToNew(this.c * this.ls)\r\n\t\t},\r\n\t\tscrollToNew(s) {\r\n\t\t\tif (this.$refs[\"container\"]) {\r\n\t\t\t\tthis.$refs[\"container\"].scrollTop = this.c * s;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscrollToEvent(e) {\r\n\t\t\tif (this.$refs[e.event.event_id]){\r\n\t\t\t\tvar r_element = this.$refs[e.event.event_id][0]\r\n\t\t\t\tthis.scrollToNew(r_element.offsetTop - this.lscroll.clientHeight / 2 + r_element.clientHeight / 2)\r\n\t\t\t\t\r\n\t\t\t\tr_element.classList.add('attention')\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tr_element.classList.remove('attention')\r\n\t\t\t\t}, 1000)\r\n\t\t\t}\r\n\t\t\t//this.scrollToNew(120);\r\n\t\t},\r\n\r\n\t\tmenuIsVisibleHandler: function (isVisible) {\r\n\t\t\tthis.menuOpen = isVisible;\r\n\t\t\tthis.$emit(\"menuIsVisible\", isVisible);\r\n\t\t},\r\n\r\n\t\tmousewheel: function (e) {\r\n\t\t\tif (this.scrollType === \"custom\") {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.$refs[\"container\"].scrollTop += -e.deltaY;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tshowMultiSelect() {\r\n\t\t\tthis.multiSelect = true;\r\n\t\t},\r\n\t\tselectMessage(message) {\r\n\t\t\tif (\r\n\t\t\t\tthis.selectedMessages.filter(\r\n\t\t\t\t\t(item) => item.message_id === message.message_id\r\n\t\t\t\t).length === 0\r\n\t\t\t) {\r\n\t\t\t\tthis.selectedMessages.push(message);\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveMessage(message) {\r\n\t\t\tconst index = this.selectedMessages.findIndex(\r\n\t\t\t\t(item) => item.message_id === message.message_id\r\n\t\t\t);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.selectedMessages.splice(index, 1);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmessagesIsDeleted(state) {\r\n\t\t\tthis.$emit(\"messagesIsDeleted\", state);\r\n\t\t},\r\n\r\n\t\ttoreference(reference) {\r\n\r\n\t\t\tthis.$emit(\"toreference\", reference);\r\n\t\t},\r\n\t},\r\n};\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8a7a405a&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=8a7a405a&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"8a7a405a\",\n  null\n  ,true\n)\n\nexport default component.exports","import { mapState } from \"vuex\";\r\n\r\nimport events from \"@/components/events/list/index.vue\";\r\nimport time from \"../../chats/assets/time\";\r\nimport f from \"@/application/functions\";\r\n\r\nexport default {\r\n\tname: \"chatList\",\r\n\tprops: {\r\n\t\tchat: Object,\r\n\t\tfilterType: String,\r\n\t\terror: [Object, Error, String],\r\n\t\tselectedMessages: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => {\r\n\t\t\t\treturn [];\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\r\n\tcomponents: {\r\n\t\tevents,\r\n\t},\r\n\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tencryptedEvents: [],\r\n\t\t\tloading: false,\r\n\t\t\tscrolling: false,\r\n\t\t\tscrollingTo: 0,\r\n\t\t\tcancelNextScroll: false,\r\n\t\t\ttimeline: null,\r\n\t\t\tlastEvent: {},\r\n\t\t\tscrollType: String,\r\n\t\t\tesize: {},\r\n\t\t\tp_b: false,\r\n\t\t\tp_f: false,\r\n\r\n\t\t\tupdateTimeout: null,\r\n\t\t\tupdateInterval: null,\r\n\t\t\tevents: [],\r\n\t\t\tfirstPaginate: true,\r\n\t\t};\r\n\t},\r\n\r\n\tmounted: function () {\r\n\t\tthis.init();\r\n\r\n\t\tif (this.chat) {\r\n\t\t\t// this.readAll()\r\n\t\t}\r\n\t},\r\n\r\n\twatch: {\r\n\t\t//$route: 'getdata'\r\n\r\n\t\tactive: function () {\r\n\t\t\t// if(this.minimized && !this.active){\r\n\t\t\t//   this.scrollToNew(0)\r\n\t\t\t// }\r\n\t\t\t// if(this.minimized && this.active){\r\n\t\t\t//   this.readAll();\r\n\t\t\t// }\r\n\t\t},\r\n\t},\r\n\tcomputed: mapState({\r\n\t\tlloading: function () {\r\n\t\t\treturn this.loading || this[\"p_f\"] || this[\"p_b\"];\r\n\t\t},\r\n\r\n\t\tauth: (state) => state.auth,\r\n\r\n\t\tsettings_read: (state) => !state.dontreadreceipts,\r\n\r\n\t\teventsTypes: function () {\r\n\t\t\tvar types = {\r\n\t\t\t\t\"m.room.message\": true,\r\n\t\t\t\t\"p.room.encrypt.message\": true,\r\n\t\t\t\t\"p.room.\": true,\r\n\t\t\t\t\"m.room.image\": true,\r\n\t\t\t\t\"m.room.audio\": true,\r\n\t\t\t\t\"m.room.file\": true,\r\n\t\t\t\t\"m.call.invite\": true,\r\n\t\t\t\t\"m.room.request_calls_access\": true,\r\n\t\t\t\t\"m.call.hangup\": true,\r\n\t\t\t\t\"m.call.reject\": true,\r\n\t\t\t\t\"m.fully_read\": true,\r\n\t\t\t};\r\n\r\n\t\t\tif (\r\n\t\t\t\t_.toArray((this.chat && this.chat.currentState.members) || {}).length >\r\n\t\t\t\t2\r\n\t\t\t) {\r\n\t\t\t\ttypes[\"m.room.member\"] = true;\r\n\t\t\t\ttypes[\"m.room.power_levels\"] = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn types;\r\n\t\t},\r\n\r\n\t\tpocketnet: (state) => state.pocketnet,\r\n\t\tminimized: (state) => state.minimized,\r\n\t\tactive: (state) => state.active,\r\n\r\n\t\tbin: function (state) {\r\n\t\t\treturn state.pocketnet;\r\n\t\t},\r\n\t}),\r\n\r\n\tcreated() {\r\n\t\tthis.updateInterval = setInterval(this.update, 300);\r\n\t},\r\n\tdestroyed() {\r\n\t\tif (this.timeline) {\r\n\t\t\tthis.timeline.unpaginate(this.timeline._eventCount, true);\r\n\t\t}\r\n\r\n\t\tclearInterval(this.updateInterval);\r\n\t},\r\n\r\n\tmethods: {\r\n\t\teditingEvent: function ({ event, text }) {\r\n\t\t\tthis.$emit(\"editingEvent\", { event, text });\r\n\t\t},\r\n\t\treplyEvent: function ({ event }) {\r\n\t\t\tthis.$emit(\"replyEvent\", { event });\r\n\t\t},\r\n\r\n\t\tremoveEvent: function (event) {\r\n\t\t\tthis.chat.getLiveTimeline().removeEvent(event.event.event_id);\r\n\t\t},\r\n\t\twh: function () {\r\n\t\t\tif (this.esize.clientHeight) return this.esize.clientHeight;\r\n\t\t},\r\n\t\tgetEvents: function () {\r\n\t\t\tvar events = this.timeline.getEvents();\r\n\r\n\t\t\tvar lastCallAccess = events\r\n\t\t\t\t.filter((e) => {\r\n\t\t\t\t\treturn e.event.type === \"m.room.request_calls_access\";\r\n\t\t\t\t})\r\n\t\t\t\t.pop();\r\n\r\n\t\t\tevents = _.filter(events, (e) => {\r\n\t\t\t\tvar type = e.event.type;\r\n\r\n\t\t\t\tif (e.localRedactionEvent() || e.getRedactionEvent()) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (e.event.type === \"m.room.request_calls_access\") {\r\n\t\t\t\t\tif (e.event.event_id === lastCallAccess.event.event_id) {\r\n\t\t\t\t\t\tif (e.event.content.accepted !== undefined) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (this.core.mtrx.me(e.event.sender)) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\te.event.type === \"m.room.power_levels\" &&\r\n\t\t\t\t\tObject.keys(e.event.content.users).length === 1\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (\r\n\t\t\t\t\tthis.chat.currentState.getMembers().length <= 2 &&\r\n\t\t\t\t\te.event.type === \"m.room.member\" &&\r\n\t\t\t\t\t\"m.room.power_levels\"\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\treturn !this.eventsTypes || this.eventsTypes[type];\r\n\t\t\t});\r\n\r\n\t\t\tevents = events.reverse();\r\n\r\n\t\t\tthis.relations(events);\r\n\r\n\t\t\tevents = _.sortBy(events, function (e) {\r\n\t\t\t\treturn e.replacingEventDate() || e.getDate() || Infinity;\r\n\t\t\t});\r\n\r\n\t\t\tevents = events.reverse();\r\n\r\n\t\t\tevents = _.uniq(events, (e) => {\r\n\t\t\t\treturn this.core.mtrx.clearEventId(e) || f.makeid();\r\n\t\t\t});\r\n\r\n\t\t\tevents = _.sortBy(events, function (e) {\r\n\t\t\t\treturn e.getDate() || Infinity;\r\n\t\t\t});\r\n\r\n\t\t\tevents = events.reverse();\r\n\r\n\t\t\tthis.$emit(\"getEvents\", events);\r\n\t\t\t// events = _.filter(events, function (e) {\r\n\t\t\t//   return e.ty\r\n\t\t\t// })\r\n\r\n\t\t\treturn events;\r\n\t\t},\r\n\r\n\t\tgetEventsAndEncrypt: function () {\r\n\t\t\tvar events = this.getEvents();\r\n\r\n\t\t\treturn Promise.all(\r\n\t\t\t\t_.map(events, (e) => {\r\n\t\t\t\t\tif (!this.chat.pcrypto) return Promise.resolve();\r\n\r\n\t\t\t\t\tif (e.event.decrypted) return Promise.resolve();\r\n\r\n\t\t\t\t\tvar pr = null;\r\n\t\t\t\t\tvar subtype = f.deep(e, \"event.content.msgtype\");\r\n\r\n\t\t\t\t\t//if(f.deep(e, 'event.content.msgtype') != 'm.encrypted') return Promise.resolve()\r\n\r\n\t\t\t\t\tvar einfo =\r\n\t\t\t\t\t\tf.deep(e, \"event.content.info.secrets\") ||\r\n\t\t\t\t\t\tf.deep(e, \"event.content.pbody.secrets\");\r\n\r\n\t\t\t\t\tif (einfo) {\r\n\t\t\t\t\t\tif (subtype == \"m.image\") {\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (subtype == \"m.audio\") {\r\n\t\t\t\t\t\t\tpr = this.core.mtrx.getAudio(this.chat, e).catch((error) => {\r\n\t\t\t\t\t\t\t\tconsole.error(error);\r\n\r\n\t\t\t\t\t\t\t\te.event.decrypted = {\r\n\t\t\t\t\t\t\t\t\tmsgtype: \"m.bad.encrypted\",\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (subtype == \"m.encrypted\") {\r\n\t\t\t\t\t\t\tpr = this.chat.pcrypto\r\n\t\t\t\t\t\t\t\t.decryptEvent(e.event)\r\n\t\t\t\t\t\t\t\t.then((d) => {\r\n\t\t\t\t\t\t\t\t\te.event.decrypted = d;\r\n\r\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\t\t\t\te.event.decrypted = {\r\n\t\t\t\t\t\t\t\t\t\tmsgtype: \"m.bad.encrypted\",\r\n\t\t\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (subtype == \"m.audio\") {\r\n\t\t\t\t\t\t\tpr = this.core.mtrx.getAudioUnencrypt(this.chat, e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!pr) return Promise.resolve();\r\n\r\n\t\t\t\t\treturn pr.catch((e) => {\r\n\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t/*return this.chat.pcrypto.decryptEvent(e.event).then(d => {\r\n          e.event.decrypted = d\r\n\r\n          return Promise.resolve()\r\n        }).catch(e => {\r\n\r\n          e.event.decrypted = {\r\n            msgtype : 'm.bad.encrypted'\r\n          }\r\n\r\n          return Promise.resolve()\r\n        })*/\r\n\t\t\t\t})\r\n\t\t\t).then(() => {\r\n\t\t\t\treturn Promise.resolve(events);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\trelations: function (events) {\r\n\t\t\tvar ts = this.timeline._timelineSet;\r\n\r\n\t\t\t_.each(events, (e) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//if(!e.event.content.edited){\r\n\t\t\t\t\tvar rt = ts.getRelationsForEvent(\r\n\t\t\t\t\t\te.event.event_id,\r\n\t\t\t\t\t\t\"m.replace\",\r\n\t\t\t\t\t\t\"m.room.message\"\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (rt) {\r\n\t\t\t\t\t\tvar last = rt.getLastReplacement();\r\n\r\n\t\t\t\t\t\tif (last) {\r\n\t\t\t\t\t\t\te.event.content.body = last.event.content.body;\r\n\t\t\t\t\t\t\te.event.content.edited = last.event.event_id;\r\n\t\t\t\t\t\t\te.event.content.block = last.event.content.block;\r\n\t\t\t\t\t\t\te.event.content.msgtype = last.event.content.msgtype;\r\n\t\t\t\t\t\t\te.event.decrypted = last.event.decrypted;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmediaTimelineSet: async function () {\r\n\t\t\tvar filter = new this.core.mtrx.sdk.Filter(client.getUserId());\r\n\r\n\t\t\tfilter.setDefinition({\r\n\t\t\t\troom: {\r\n\t\t\t\t\ttimeline: {\r\n\t\t\t\t\t\tcontains_url: true,\r\n\t\t\t\t\t\ttypes: [\"m.room.message\"],\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t});\r\n\r\n\t\t\tfilter.filterId = await this.core.mtrx.client.getOrCreateFilter(\r\n\t\t\t\t\"FILTER_FILES_\" + this.core.mtrx.client.credentials.userId,\r\n\t\t\t\tfilter\r\n\t\t\t);\r\n\r\n\t\t\treturn this.chat.getOrCreateFilteredTimelineSet(filter);\r\n\t\t},\r\n\t\tinit: async function () {\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.firstPaginate = true;\r\n\r\n\t\t\tconsole.log('this.chat', this.chat)\r\n\r\n\t\t\t//this.chat.getTimelineForEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s')\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tconsole.log('timeline', timeline)\r\n\t\t\t\r\n\t\t\t//this.chat.getTimelineForEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s')\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//this.chat.getLiveTimeline();\r\n\r\n\t\t\tvar ts;\r\n\r\n\t\t\tif (this.filterType === \"images\") {\r\n\t\t\t\tthis.scrollType = \"custom\";\r\n\t\t\t\tts = await this.mediaTimelineSet();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar timeline = this.chat.getLiveTimeline();\r\n\r\n\t\t\t\tts = timeline.getTimelineSet();\r\n\t\t\t}\r\n\r\n\t\t\tthis.timeline = new this.core.mtrx.sdk.TimelineWindow(\r\n\t\t\t\tthis.core.mtrx.client,\r\n\t\t\t\tts\r\n\t\t\t);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.timeline\r\n\t\t\t\t\t.load(/*null, (this.wh() || 600)*/)\r\n\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\treturn this.getEventsAndEncrypt();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((events) => {\r\n\t\t\t\t\t\tthis.events = events;\r\n\r\n\t\t\t\t\t\tthis.loading = false;\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.autoPaginateAll();\r\n\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t});\r\n\t\t\t}, 30);\r\n\r\n\t\t\t/*setTimeout(() => {\r\n\t\t\t\tthis.paginateToEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s').then(event => {\r\n\t\t\t\t\tconsole.log(\"TOEVENT\", event)\r\n\t\t\t\t})\r\n\t\t\t}, 1000)*/\r\n\t\t},\r\n\r\n\t\tpaginateToEvent: function(event_id){\r\n\t\t\tvar event = _.find(this.events, (e) => {\r\n\t\t\t\treturn e.event.event_id == event_id\r\n\t\t\t})\r\n\r\n\t\t\tif (event){\r\n\t\t\t\treturn Promise.resolve(event)\r\n\t\t\t}\r\n\r\n\t\t\telse{\r\n\t\t\t\tvar promise = this.paginate('b')\r\n\r\n\t\t\t\tif (promise){\r\n\t\t\t\t\treturn promise.then(() => {\r\n\t\t\t\t\t\treturn this.paginateToEvent(event_id)\r\n\t\t\t\t\t}).catch(e => {\r\n\t\t\t\t\t\tif(!event) return Promise.resolve(null)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(!event) return Promise.resolve(null)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tautoPaginate: function (direction) {\r\n\t\t\tif (this.needLoad(direction)) {\r\n\t\t\t\tvar pr = this.paginate(direction)\r\n\r\n\t\t\t\tif (pr) pr.catch(e => {})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpaginate: function (direction, rnd) {\r\n\t\t\t//$(this.$el).find('.eventsflex')[0]\r\n\r\n\t\t\tif (!this.loading && this.timeline && !this[\"p_\" + direction]) {\r\n\t\t\t\tif (this.timeline.canPaginate(direction) || rnd) {\r\n\t\t\t\t\tthis[\"p_\" + direction] = true;\r\n\r\n\t\t\t\t\tlet count = /*this.firstPaginate ? 24 : */ 20;\r\n\r\n\t\t\t\t\tvar error = null\r\n\r\n\t\t\t\t\treturn this.timeline\r\n\t\t\t\t\t\t.paginate(direction, count)\r\n\t\t\t\t\t\t.then((e) => {\r\n\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((e) => {\r\n\t\t\t\t\t\t\terror = e\r\n\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\t\treturn this.getEventsAndEncrypt();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((events) => {\r\n\t\t\t\t\t\t\tthis.events = events;\r\n\r\n\t\t\t\t\t\t\tthis.firstPaginate = false;\r\n\r\n\t\t\t\t\t\t\t// this.readAll();\r\n\r\n\t\t\t\t\t\t\tthis[\"p_\" + direction] = false;\r\n\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\tif(e) return Promise.reject(e)\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.readAll();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tautoPaginateAll: function () {\r\n\t\t\tif (this.filterType === \"images\") {\r\n\t\t\t\tthis.autoPaginate(\"b\");\r\n\t\t\t} else {\r\n\t\t\t\tthis.autoPaginate(\"b\");\r\n\t\t\t\tthis.autoPaginate(\"f\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tneedLoad: function (direction) {\r\n\t\t\tvar r = false;\r\n\r\n\t\t\tvar scrollHeight = this.esize.scrollHeight || 0;\r\n\t\t\tvar scrollTop = this.esize.scrollTop || 0;\r\n\t\t\tvar clientHeight = Math.max(this.esize.clientHeight || 0, 800);\r\n\r\n\t\t\tif (direction == \"b\") {\r\n\t\t\t\tvar safespace = clientHeight;\r\n\r\n\t\t\t\tif (scrollHeight - scrollTop < clientHeight + safespace) r = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (scrollTop < clientHeight) r = true;\r\n\t\t\t}\r\n\r\n\t\t\treturn r;\r\n\t\t},\r\n\r\n\t\treadEvent: function (event) {\r\n\t\t\tvar byme = this.core.mtrx.me(event.event.sender);\r\n\r\n\t\t\tif (byme) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.core.mtrx.client.sendReadReceipt(event);\r\n\t\t},\r\n\r\n\t\treadFirst: function () {\r\n\t\t\tvar events = this.timeline.getEvents();\r\n\r\n\t\t\tthis.readEvent(events[0]);\r\n\t\t},\r\n\r\n\t\treadLast: function () {\r\n\t\t\tvar events = this.timeline.getEvents();\r\n\r\n\t\t\tconsole.log(events);\r\n\t\t\tthis.readEvent(events[events.length - 1]);\r\n\t\t},\r\n\r\n\t\treadEvents: function (events) {\r\n\t\t\t_.each(events, (e) => {\r\n\t\t\t\tthis.readEvent(e);\r\n\t\t\t});\r\n\t\t},\r\n\t\treadOne() {\r\n\t\t\tthis.core.mtrx\r\n\t\t\t\t.client(this.chat.timeline[this.chat.timeline.length - 1])\r\n\t\t\t\t.then((r) => {\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\treadAll: function () {\r\n\t\t\tif (\r\n\t\t\t\tdocument.hasFocus() &&\r\n\t\t\t\t(!this.pocketnet || this.active) &&\r\n\t\t\t\t!this.core.hiddenInParent &&\r\n\t\t\t\tthis.chat &&\r\n\t\t\t\tthis.chat.getJoinedMemberCount() > 0 &&\r\n\t\t\t\tthis.chat.getUnreadNotificationCount() !== 0\r\n\t\t\t)\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (!this.chat) return;\r\n\r\n\t\t\t\t\tvar i = this.chat.timeline.length - 1;\r\n\t\t\t\t\tvar event = null;\r\n\r\n\t\t\t\t\twhile (i >= 0 && !event) {\r\n\t\t\t\t\t\tvar e = this.chat.timeline[i];\r\n\r\n\t\t\t\t\t\tif (!this.core.mtrx.me(e.sender.userId)) {\r\n\t\t\t\t\t\t\tevent = e;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (e) {\r\n\t\t\t\t\t\tthis.core.mtrx.client\r\n\t\t\t\t\t\t\t.setRoomReadMarkers(this.chat.currentState.roomId, e.eventId, e, {\r\n\t\t\t\t\t\t\t\thidden: !this.settings_read ? true : false,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.then((r) => {\r\n\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1000);\r\n\t\t},\r\n\r\n\t\t//////////////\r\n\r\n\t\tscrollE: function (size) {\r\n\t\t\tthis.updatedSize(size);\r\n\t\t\tthis.$emit(\"scroll\", size);\r\n\t\t},\r\n\r\n\t\tupdatedSize: function (size) {\r\n\t\t\tthis.esize = size;\r\n\t\t},\r\n\r\n\t\tupdate: function (e) {\r\n\t\t\tif (!this.scrolling) {\r\n\t\t\t\tthis.autoPaginateAll();\r\n\t\t\t} else {\r\n\t\t\t\t// e.preventDefault()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscrollToNew: function (s) {\r\n\t\t\tthis.scrolling = true;\r\n\r\n\t\t\tthis.$refs.eventslist.scrollToNew(s);\r\n\r\n\t\t\tthis.scrolling = false;\r\n\t\t},\r\n\r\n\t\timageGallery: function (e) {\r\n\t\t\tthis.$emit(\"eventImage\", e);\r\n\t\t},\r\n\r\n\t\tmenuIsVisibleHandler: function (isVisible) {\r\n\t\t\tthis.$emit(\"menuIsVisible\", isVisible);\r\n\t\t},\r\n\r\n\t\tscrollToEvent: function(reference){\r\n\r\n\t\t\tthis.$store.state.globalpreloader = true;\r\n\r\n\t\t\tthis.paginateToEvent(reference.event.event_id).then(event => {\r\n\r\n\t\t\t\tif (event){\r\n\t\t\t\t\tthis.$refs.eventslist.scrollToEvent(event)\r\n\t\t\t\t}\r\n\t\t\t}).finally(() => {\r\n\t\t\t\tthis.$store.state.globalpreloader = false;\r\n\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\r\n\t},\r\n};\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9711b96a&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=9711b96a&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"9711b96a\",\n  null\n  ,true\n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./typing.vue?vue&type=style&index=0&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"e96d3eb2\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-9711b96a] .eventMember{text-align:left}[data-v-9711b96a] .eventMember span{font-size:.9em}.pswp img[data-v-9711b96a]{max-width:none;-o-object-fit:contain;object-fit:contain}#chatList.minimized:not(.active) .timeLineWrapper[data-v-9711b96a]{padding-left:.5em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".eventWrapper[data-v-8a7a405a] .event{padding:.25em 0}.eventWrapper[data-v-8a7a405a]{transition:background .3s}.eventWrapper.attention[data-v-8a7a405a],.eventWrapper.attention[data-v-8a7a405a] .allscreen{background:rgb(var(--neutral-grad-0))}.list-enter-active[data-v-8a7a405a],.list-leave-active[data-v-8a7a405a]{transition:all 1s}.list-enter[data-v-8a7a405a],.list-leave-to[data-v-8a7a405a]{opacity:0}#events[data-v-8a7a405a]{left:0;right:0;top:0;bottom:0;padding-bottom:50px;position:absolute;transition:.3s}#events.mobile[data-v-8a7a405a]{padding-bottom:81px;transform:translate3d(0,calc(var(--keyboardheight, 0)*-1 - -1px),0)}#events.mobile .scrollbottom[data-v-8a7a405a]{bottom:5em}.dummyheight[data-v-8a7a405a]{height:100%;width:2px;left:0;right:0;top:0;bottom:0;background:rgb(var(--color-shadow-base))}.preloadingWrapper[data-v-8a7a405a]{padding:2em;text-align:center;opacity:.5;color:rgb(var(--text-color))}.scrollbottom[data-v-8a7a405a]{position:absolute;right:.5em;bottom:4em;cursor:pointer;border-radius:50%;background:rgb(var(--background-main));box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);color:rgb(var(--color-txt-gray-dark));width:35px;height:35px;line-height:35px;text-align:center;z-index:3}.scrollbottom i[data-v-8a7a405a]{font-size:.7em}.eventsflex[data-v-8a7a405a]{display:flex;flex-flow:column;overflow-y:overlay;overflow-x:hidden;max-width:640px;margin:0 auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;flex-wrap:nowrap;width:100%;height:100%;scroll-behavior:auto;continue:fragments;justify-content:flex-start;transform:scaleY(-1);contain:strict}.eventsflex.freeze[data-v-8a7a405a]{overflow-y:hidden}.eventsflex .ewr[data-v-8a7a405a]{position:relative}.eventsflex .eventspage[data-v-8a7a405a],.eventsflex .ewr[data-v-8a7a405a]{width:100%;display:flex;flex-flow:column;flex-wrap:nowrap;justify-content:flex-start}.eventsflex .errorWrapper[data-v-8a7a405a]{padding:.5em}.eventsflex .errorWrapper .btnwrp[data-v-8a7a405a]{padding-top:.5em}.eventsflex .errorWrapper .error[data-v-8a7a405a]{padding:1em;border-radius:1em;background:rgb(var(--neutral-grad-0))}.eventsflex .errorWrapper[data-v-8a7a405a],.eventsflex .eventWrapper[data-v-8a7a405a]{width:100%;transform:scaleY(-1)}.eventsflex.mobile[data-v-8a7a405a]{scroll-behavior:smooth}.eventsflex.mobile[data-v-8a7a405a] .dropdown.visible{top:-55px}.eventsflex.mobile[data-v-8a7a405a] .outer-div .backgr,.eventsflex.mobile[data-v-8a7a405a] .outer-div .menuwrapper{position:absolute}.eventsflex.mobile.ios.menuOpen[data-v-8a7a405a]{overflow:visible}.galleryRow[data-v-8a7a405a]{display:flex;align-items:flex-end}.galleryRow .messageImg[data-v-8a7a405a]{max-width:50%;margin:0 10px;position:relative}.galleryRow .messageImg .img[data-v-8a7a405a]{display:block;border-radius:.5em;position:relative;max-width:100%}.galleryRow .messageImg .loadingImg[data-v-8a7a405a]{display:flex;align-items:center;justify-content:center;border-radius:.5em;position:relative;max-width:300px;height:250px}.galleryRow .messageImg .loadingImg .imgPreview[data-v-8a7a405a]{border-radius:.5em;position:relative;max-width:100%;height:100%;opacity:.6}.galleryRow .messageImg .loadingImg .clipLoader[data-v-8a7a405a]{position:absolute;z-index:9999;left:50%;right:0;top:50%;bottom:0;transform:translate(-50,50);display:flex;align-items:center;justify-content:center}.galleryRow .messageImg .imgMsg img[data-v-8a7a405a]{max-width:100%;-o-object-fit:cover;object-fit:cover;border-radius:1em;display:block}.galleryRow .messageImg .metaLink[data-v-8a7a405a]{background:#000}.galleryRow .messageImg .metaLink .metaMessageLink .metaTitle[data-v-8a7a405a]{font-weight:700;font-size:.9em}.galleryRow .messageImg .metaLink .metaMessageLink .metaDescription[data-v-8a7a405a]{margin:.5em 0;font-size:.8em}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper[data-v-8a7a405a]{display:block;max-width:300px;-o-object-fit:cover;object-fit:cover}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper img[data-v-8a7a405a]{display:block;width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=9711b96a&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"34c1f12a\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".typingBlock{position:relative}.typingBlock .typingBlockWrapper{position:absolute;left:50%;transform:translateX(-50%);top:-5px;display:flex;align-items:center}.typingBlock .typingBlockWrapper>div{padding:0 .5em}.typingBlock .typingBlockWrapper span{font-size:.7em;color:rgb(var(--neutral-grad-3));opacity:.8}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=8a7a405a&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"33fc5ad1\", content, shadowRoot)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=9711b96a&scoped=true&lang=sass&\""],"sourceRoot":""}