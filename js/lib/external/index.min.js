!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.libraryStarter=t():e.libraryStarter=t()}(this,(()=>(()=>{var e={494:(e,t)=>{var r;r=function(e){e.version="1.3.1",e.bstr=function(e,t){var r=1,a=0,n=e.length,s=0;"number"==typeof t&&(r=65535&t,a=t>>>16);for(var i=0;i<n;){for(s=Math.min(n-i,2654)+i;i<s;i++)a+=r+=255&e.charCodeAt(i);r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521},e.buf=function(e,t){var r=1,a=0,n=e.length,s=0;"number"==typeof t&&(r=65535&t,a=t>>>16&65535);for(var i=0;i<n;){for(s=Math.min(n-i,2654)+i;i<s;i++)a+=r+=255&e[i];r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521},e.str=function(e,t){var r=1,a=0,n=e.length,s=0,i=0,o=0;"number"==typeof t&&(r=65535&t,a=t>>>16);for(var p=0;p<n;){for(s=Math.min(n-p,2918);s>0;)(i=e.charCodeAt(p++))<128?r+=i:i<2048?(a+=r+=192|i>>6&31,--s,r+=128|63&i):i>=55296&&i<57344?(a+=r+=240|(i=64+(1023&i))>>8&7,--s,a+=r+=128|i>>2&63,--s,a+=r+=128|(o=1023&e.charCodeAt(p++))>>6&15|(3&i)<<4,--s,r+=128|63&o):(a+=r+=224|i>>12&15,--s,a+=r+=128|i>>6&63,--s,r+=128|63&i),a+=r,--s;r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521}},"undefined"==typeof DO_NOT_EXPORT_ADLER?r(t):r({})},287:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(601),n=r.n(a),s=r(314),i=r.n(s)()(n());i.push([e.id,'.bastyon_payment_button{font-family:"Segoe UI Variable","Segoe UI",SegoeUI,"Helvetica Neue",Helvetica,Arial,sans-serif;border-radius:5px !important;max-height:inherit !important;max-width:inherit !important;min-height:46px !important;min-width:200px !important;-webkit-appearance:button;appearance:button;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;border:1px solid #f6f6f6;-moz-transition:.3s !important;-o-transition:.3s !important;-webkit-transition:.3s !important;transition:.3s !important;display:flex;justify-content:center;align-items:center;padding-left:26px;padding-right:32px}.bastyon_payment_button img{height:19px}.bastyon_payment_button.black{background:#011621 !important;border-color:#011621 !important}.bastyon_payment_button.black:hover{background:#001927 !important;border-color:#001927 !important}.bastyon_payment_button.white{background:#f6f6f6 !important;border-color:#f6f6f6 !important}.bastyon_payment_button.white:hover{background:rgba(231,231,231,.9647058824) !important;border-color:rgba(231,231,231,.9647058824) !important}',""]);const o=i},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",a=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),a&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),a&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,a,n,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var o=0;o<this.length;o++){var p=this[o][0];null!=p&&(i[p]=!0)}for(var c=0;c<e.length;c++){var m=[].concat(e[c]);a&&i[m[0]]||(void 0!==s&&(void 0===m[5]||(m[1]="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {").concat(m[1],"}")),m[5]=s),r&&(m[2]?(m[1]="@media ".concat(m[2]," {").concat(m[1],"}"),m[2]=r):m[2]=r),n&&(m[4]?(m[1]="@supports (".concat(m[4],") {").concat(m[1],"}"),m[4]=n):m[4]="".concat(n)),t.push(m))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},72:e=>{"use strict";var t=[];function r(e){for(var r=-1,a=0;a<t.length;a++)if(t[a].identifier===e){r=a;break}return r}function a(e,a){for(var s={},i=[],o=0;o<e.length;o++){var p=e[o],c=a.base?p[0]+a.base:p[0],m=s[c]||0,u="".concat(c," ").concat(m);s[c]=m+1;var l=r(u),h={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==l)t[l].references++,t[l].updater(h);else{var f=n(h,a);a.byIndex=o,t.splice(o,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var s=a(e=e||[],n=n||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var o=r(s[i]);t[o].references--}for(var p=a(e,n),c=0;c<s.length;c++){var m=r(s[c]);0===t[m].references&&(t[m].updater(),t.splice(m,1))}s=p}}},659:e=>{"use strict";var t={};e.exports=function(e,r){var a=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var a="";r.supports&&(a+="@supports (".concat(r.supports,") {")),r.media&&(a+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(a+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),a+=r.css,n&&(a+="}"),r.media&&(a+="}"),r.supports&&(a+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var s=t[a]={id:a,exports:{}};return e[a](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0;var a={};return(()=>{"use strict";r.r(a),r.d(a,{default:()=>k});var e=r(72),t=r.n(e),n=r(825),s=r.n(n),i=r(659),o=r.n(i),p=r(56),c=r.n(p),m=r(540),u=r.n(m),l=r(113),h=r.n(l),f=r(287),y={};y.styleTagTransform=h(),y.setAttributes=c(),y.insert=o().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=u(),t()(f.A,y),f.A&&f.A.locals&&f.A.locals;const d={hexEncode:function(e){for(var t=0,r="",a=0;a<e.length;a++){for((t=e.charCodeAt(a))>255&&(t-=848),t=t.toString(16);t.length<2;)t="0"+t;r+=t}return r},hexDecode:function(e){var t=0,r="";e=trim(e);for(var a=2;a<=e.length;a+=2)(t=parseInt(e.substring(a-2,a),16))>=128&&(t+=848),r+=t=String.fromCharCode("0x"+t.toString(16));return r}};function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var _=r(494);const O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configs=r,this.parameters=v({},t),this.parameters.payment||(this.parameters.payment={}),this.parameters.style||(this.parameters.style="black"),this.parameters.payment.s_url&&(this.parameters.payment.email||(this.parameters.payment.email=!0),this.parameters.payment.phone||(this.parameters.payment.phone=!0)),this.parameters.payment.anonimus&&(delete this.parameters.payment.s_url,delete this.parameters.payment.email,delete this.parameters.payment.phone),this.parameters.payment.expired&&this.parameters.payment.expired<=0&&delete this.parameters.payment.expired,this.parameters.payment.payload&&!this.parameters.payment.expired||(this.parameters.payment.date=(new Date).getTime()),"black"!=this.parameters.style&&"white"!=this.parameters.style&&(this.parameters.style="black")}var t,r;return t=e,(r=[{key:"getHash",value:function(){var e=this.parameters.payment,t=[];t.push(e.address),t.push(JSON.stringify(e.items)),e.store&&t.push(JSON.stringify(e.store)),e.payload?t.push(JSON.stringify(e.payload)):t.push(JSON.stringify(e.date));var r=_.str(t.join("_"));return r<0&&(r=-r),r+""}},{key:"makeURLHash",value:function(){var e=v({action:"pay"},this.parameters.payment),t={};if(this.parameters.payment.s_url&&(t.s=this.parameters.payment.s_url),this.parameters.payment.c_url&&(t.c=this.parameters.payment.c_url),this.parameters.payment.c_url_type&&"fetch"!=this.parameters.payment.c_url_type&&(t.ct=this.parameters.payment.c_url_type),this.parameters.payment.address&&(t.ad=this.parameters.payment.address),this.parameters.payment.email&&(t.e=1),this.parameters.payment.phone&&(t.p=1),this.parameters.payment.anonimus&&(t.an=1),this.parameters.payment.payload&&(t.pl=this.parameters.payment.payload),this.parameters.payment.date&&(t.d=this.parameters.payment.date),this.parameters.payment.expired&&(t.ex=this.parameters.payment.expired),this.parameters.payment.value&&(t.v=this.parameters.payment.value),this.parameters.payment.description&&(t.de=this.parameters.payment.description),t.h=this.getHash(),this.parameters.payment.store&&(t.st={},this.parameters.payment.store.name&&(t.st.n=this.parameters.payment.store.name),this.parameters.payment.store.site&&(t.st.s=this.parameters.payment.store.site)),this.parameters.payment.items&&this.parameters.payment.items.length){t.i=[];for(var r=0;r<this.parameters.payment.items.length;r++){var a=this.parameters.payment.items[r];if(a){var n={};a.image&&(n.i=a.image),a.name&&(n.n=a.name),a.value&&(n.v=a.value),t.i.push(n)}}}return e=v({a:"p"},t),d.hexEncode(JSON.stringify(e))}},{key:"makeURL",value:function(){return"https://"+this.configs.url+"/index?ext="+this.makeURLHash()}},{key:"makeButton",value:function(){var e=this.makeURL(),t=document.createElement("button");return t.innerHTML='<img src="https://'+this.configs.url+"/img/logotypes/payment_logo_"+this.parameters.style+'.svg">',t.classList.add("bastyon_payment_button"),t.classList.add(this.parameters.style),t.addEventListener("click",(function(){window.open(e,"_blank").focus()})),t}}])&&x(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var w=function(e){return this.payments=function(t){return new O(t,e)},this};window.__BastyonLib=w;const k=w})(),a})()));